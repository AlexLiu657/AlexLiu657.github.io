{"meta":{"title":"è«è¯­å°æ ˆ","subtitle":"æ¬¢è¿æ¥åˆ°è«è¯­å°æ ˆ","description":"è«è¯­å°æ ˆ","author":"Alex Liu","url":"https://it65720.top","root":"/"},"pages":[{"title":"","date":"2022-04-17T11:51:34.137Z","updated":"2022-04-17T11:51:34.137Z","comments":true,"path":"404.html","permalink":"https://it65720.top/404.html","excerpt":"","text":"404 å¾ˆæŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„é¡µé¢ä¸å­˜åœ¨ å¯èƒ½æ˜¯è¾“å…¥åœ°å€æœ‰è¯¯æˆ–è¯¥åœ°å€å·²è¢«åˆ é™¤"},{"title":"","date":"2022-05-18T15:19:55.284Z","updated":"2022-05-18T15:19:55.284Z","comments":false,"path":"bb/index.html","permalink":"https://it65720.top/bb/index.html","excerpt":"","text":""},{"title":"","date":"2022-05-17T16:41:44.078Z","updated":"2022-05-17T16:41:44.078Z","comments":false,"path":"about/index.html","permalink":"https://it65720.top/about/index.html","excerpt":"","text":"çœŸçš„å°±æ˜¯ä¸€ä¸ªç®€å•çš„è‡ªæˆ‘ä»‹ç»ğŸ¤ï¼Œåœ¨æ­å»ºåšå®¢ä¸ŠèŠ±äº†å¤ªå¤šæ—¶é—´ï¼Œåè€Œå¿½ç•¥äº†æœ€é‡è¦çš„å†™åšå®¢QAQï¼Œé¦–å…ˆè«è¯­æ˜¯ä¸€ç§æˆ‘å¯¹æˆ‘è‡ªå·±çš„æœŸæœ›ï¼ˆä¸æ˜¯æ‘¸é±¼å“¦ï¼‰,æœ¬äººæœ‰æ—¶å€™åšäº‹æ¯”è¾ƒæ¯›èº,ç»™è‡ªå·±èµ·åè«è¯­æ˜¯å¸Œæœ›è‡ªå·±èƒ½å¤šæ€è€ƒ,å¤šå®è·µ,å°‘è¯´è¯ã€‚å…¶æ¬¡æˆ‘æ˜¯å—äº¬ç†å·¥å¤§å­¦æ³°å·ç§‘æŠ€å­¦é™¢2014çº§çš„å­¦ç”Ÿ,ä¸“ä¸šæ˜¯è½¯ä»¶å·¥ç¨‹,ç°åœ¨åœ¨ä»äº‹è½¯ä»¶å¼€å‘ç›¸å…³çš„å·¥ä½œï¼Œç°åœ¨ä¸»è¦æŠ€æœ¯æ ˆæ˜¯Javaç›¸å…³ï¼Œå‰ç«¯å¯¹Vueï¼ŒAngularç­‰ä¹Ÿæœ‰äº†è§£ï¼Œåç»­å‡†å¤‡å¯¹è‡ªå·±æ„Ÿå…´è¶£çš„æŠ€æœ¯è¿›è¡Œäº†è§£æˆ–è€…æ·±å…¥å­¦ä¹ ï¼ŒåŒæ—¶ä¹Ÿä¼šåœ¨æœ¬ç«™å’Œå¤§å®¶è¿›è¡Œåˆ†äº«ğŸ˜‰ã€‚"},{"title":"æ‰€æœ‰åˆ†ç±»","date":"2022-04-24T17:08:02.247Z","updated":"2022-04-24T17:08:02.247Z","comments":true,"path":"categories/index.html","permalink":"https://it65720.top/categories/index.html","excerpt":"","text":""},{"title":"","date":"2022-05-17T15:45:43.119Z","updated":"2022-05-17T15:45:43.119Z","comments":true,"path":"friends/index.html","permalink":"https://it65720.top/friends/index.html","excerpt":"èµ°ï¼Œå»è§ç½‘å‹","text":"èµ°ï¼Œå»è§ç½‘å‹ &nbsp;ä¸¾ä¸ªæ —å­&nbsp;å‰ç½®è¦æ±‚ &nbsp;æœ¬ç«™ä¿¡æ¯ å‹é“¾æ ¼å¼ï¼Œé™¤é«˜äº®è¡Œå¿…å¡«ï¼Œå…¶ä½™å‡å¯é€‰å¡«~- title: # ç½‘ç«™åç§° url: # è®¿é—®åœ°å€ avatar: # å¤´åƒåœ°å€ description: # æè¿°/ä¸€å¥è¯æ¦‚è¿°/æ ¼è¨€ screenshot: # ç½‘ç«™æˆªå›¾/å±•ç¤ºå›¾ backgroundColor: # å¤´åƒèƒŒæ™¯é¢œè‰² textColor: # æ–‡æœ¬é¢œè‰² keywords: - æ ‡ç­¾ä¸€ - æ ‡ç­¾äºŒ Https ç«™ç‚¹ï¼ˆå¤§åŠ¿æ‰€è¶‹ï¼‰ ç½‘ç«™åŠ è½½é€Ÿåº¦æ­£å¸¸ï¼ˆå¾…å®šâ€¦ï¼‰ å…è´¹ç±»åŸŸåç«™ç‚¹è¯·ç•¥è¿‡ï¼ˆæ½œåœ¨çš„ä¸å¯é æ€§ï¼‰ æ–°åˆ›ç«™ç‚¹è¯·ç•¥è¿‡ï¼ˆå»ºè®®æ‹¥æœ‰ä¸€å®šçš„åŸåˆ›å†…å®¹ï¼‰ ä¸æ¥å—ä¸€åˆ‡å•†ä¸šæ€§æˆ–å¼ºçƒˆä¾µå…¥ç±»å¹¿å‘Šä¹‹ç«™ç‚¹ ä¸æ¥å—è¿åä¸­åäººæ°‘å…±å’Œå›½æ³•å¾‹æ³•è§„ä¹‹ç«™ç‚¹ è®¿é—®åœ°å€ï¼šhttps://it65720.top ç«™ç‚¹åç§°ï¼šè«è¯­å°æ ˆ å¤´åƒåœ°å€ï¼šhttps://bu.dusays.com/2022/04/19/98c06d5e34ebc.png æè¿°ä¿¡æ¯ï¼šæœ›æ°¸ä¸åœæ­¢æ€è€ƒ"},{"title":"æ‰€æœ‰æ ‡ç­¾","date":"2022-04-24T15:50:03.014Z","updated":"2022-04-24T15:50:03.014Z","comments":true,"path":"tags/index.html","permalink":"https://it65720.top/tags/index.html","excerpt":"","text":""},{"title":"","date":"2022-05-17T16:08:32.178Z","updated":"2022-05-17T16:08:32.178Z","comments":false,"path":"protocol/comment/index.html","permalink":"https://it65720.top/protocol/comment/index.html","excerpt":"","text":"è¯„è®ºæœåŠ¡åè®® ç”¨æˆ·å‘è¨€å‰ï¼Œè¯·è®¤çœŸé˜…è¯»æœ¬æ¡ä¾‹ã€‚ä¸€ç»å‘è¨€ï¼Œå³è§†ä¸ºåŒæ„æ¥å—æœ¬æ¡ä¾‹ï¼›å¦‚ä¸åŒæ„ï¼Œè¯·å‹¿å‘è¨€ã€‚ ä¸€ã€åˆ¶å®šæœ¬ç®¡ç†åŠæ³•çš„ç›®çš„åœ¨äºä¸ºç”¨æˆ·æä¾›æ–‡æ˜ã€ç†æ€§ã€å‹å–„ã€é«˜è´¨é‡çš„ä¿¡æ¯åˆ†äº«å’Œå…¬å…±è®¨è®ºçš„ç½‘ç»œäº¤æµç©ºé—´ã€‚æœ¬ç½‘ç«™æ‰€ç§°çš„è¯„è®ºæœåŠ¡ï¼Œæ˜¯æŒ‡é€šè¿‡è¿è¥ç½‘ç»œäº’åŠ¨ä¼ æ’­æŠ€æœ¯å¹³å°ï¼Œä¾›ç”¨æˆ·å¯¹æœ¬ç½‘ç«™ä¼ æ’­çš„å„ç±»ä¿¡æ¯å‘è¡¨è¯„è®ºæ„è§ï¼ˆåŒ…æ‹¬ä½†ä¸é™äºè¯­éŸ³ã€æ–‡å­—ã€å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ç­‰ä¿¡æ¯ï¼‰çš„æœåŠ¡ã€‚ äºŒã€ç”¨æˆ·ä½¿ç”¨è¯„è®ºæœåŠ¡ï¼Œä¸å¾—é€¾è¶Šæ³•å¾‹æ³•è§„ã€ç¤¾ä¼šä¸»ä¹‰åˆ¶åº¦ã€å›½å®¶åˆ©ç›Šã€å…¬æ°‘åˆæ³•æƒç›Šã€ç¤¾ä¼šå…¬å…±ç§©åºã€é“å¾·é£å°šå’Œä¿¡æ¯çœŸå®æ€§â€œä¸ƒæ¡åº•çº¿â€ï¼›åº”å°Šé‡å…¶ä»–ç”¨æˆ·åˆæ³•æƒç›ŠåŠå…¬æ°‘ä¸ªäººéšç§ï¼Œå°Šé‡ç¤¾ä¼šå…¬åºè‰¯ä¿—ï¼Œéµå®ˆå›½å®¶æ³•å¾‹æ³•è§„ã€‚ä¸Šæ–‡æåŠçš„å›½å®¶æ³•å¾‹æ³•è§„ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼šã€Šå…¨å›½äººæ°‘ä»£è¡¨å¤§ä¼šå¸¸åŠ¡å§”å‘˜ä¼šå…³äºç»´æŠ¤äº’è”ç½‘å®‰å…¨çš„å†³å®šã€‹ã€ã€Šå…¨å›½äººæ°‘ä»£è¡¨å¤§ä¼šå¸¸åŠ¡å§”å‘˜ä¼šå…³äºåŠ å¼ºç½‘ç»œä¿¡æ¯ä¿æŠ¤çš„å†³å®šã€‹ã€ã€Šæœ€é«˜äººæ°‘æ³•é™¢æœ€é«˜äººæ°‘æ£€å¯Ÿé™¢å…³äºåŠç†åˆ©ç”¨ä¿¡æ¯ç½‘ç»œå®æ–½è¯½è°¤ç­‰åˆ‘äº‹æ¡ˆä»¶é€‚ç”¨æ³•å¾‹è‹¥å¹²é—®é¢˜çš„è§£é‡Šã€‹ã€ã€Šäº’è”ç½‘ä¿¡æ¯æœåŠ¡ç®¡ç†åŠæ³•ã€‹ã€ã€Šäº’è”ç½‘æ–°é—»ä¿¡æ¯æœåŠ¡ç®¡ç†è§„å®šã€‹ä»¥åŠã€Šæœªæˆå¹´äººä¿æŠ¤æ³•ã€‹ç­‰ã€‚ ä¸‰ã€ç”¨æˆ·åº”å½“æŒ‰ç…§è§„å®šä½¿ç”¨çœŸå®ä¿¡æ¯ä½¿ç”¨æœ¬ç½‘ç«™çš„è¯„è®ºæœåŠ¡ã€‚å¯¹æ³¨å†Œç”¨æˆ·å‘è¡¨çš„è¯„è®ºï¼Œæœ¬ç½‘ç«™ä¿ç•™ç›¸åº”çš„ç®¡ç†æƒåˆ©ã€‚ å››ã€ç”¨æˆ·åœ¨å‘è¡¨è¨€è®ºæ—¶ï¼Œä¸å¾—å«æœ‰ä»¥ä¸‹å†…å®¹ï¼š â€‹ (ä¸€) åå¯¹å®ªæ³•ç¡®å®šçš„åŸºæœ¬åŸåˆ™çš„ï¼› â€‹ (äºŒ) å±å®³å›½å®¶å®‰å…¨ï¼Œæ³„éœ²å›½å®¶ç§˜å¯†ï¼Œé¢ è¦†å›½å®¶æ”¿æƒï¼Œç ´åå›½å®¶ç»Ÿä¸€çš„ï¼› â€‹ (ä¸‰) æŸå®³å›½å®¶è£èª‰å’Œåˆ©ç›Šçš„ï¼› â€‹ (å››) ç…½åŠ¨æ°‘æ—ä»‡æ¨ã€æ°‘æ—æ­§è§†ï¼Œç ´åæ°‘æ—å›¢ç»“çš„ï¼› â€‹ (äº”) ç…½åŠ¨åœ°åŸŸæ­§è§†ã€åœ°åŸŸä»‡æ¨çš„ï¼› â€‹ (å…­) ç…½åŠ¨éæ³•é›†ä¼šã€ç»“ç¤¾ã€æ¸¸è¡Œã€ç¤ºå¨ã€èšä¼—æ‰°ä¹±ç¤¾ä¼šç§©åºçš„ï¼› â€‹ (ä¸ƒ) ç ´åå›½å®¶å®—æ•™æ”¿ç­–ï¼Œå®£æ‰¬é‚ªæ•™å’Œè¿·ä¿¡çš„ï¼› â€‹ (å…«) ä¾®è¾±å’Œæ­§è§†æ€§åˆ«ã€å¹´é¾„ã€ç§æ—ã€å‡ºèº«ã€å›½åˆ«ã€æ€§å–å‘ã€ç”Ÿç†ç¼ºé™·çš„ï¼› â€‹ (ä¹) æ•£å¸ƒè°£è¨€ï¼Œæ‰°ä¹±ç¤¾ä¼šç§©åºã€ç ´åç¤¾ä¼šç¨³å®šçš„ï¼› â€‹ (å) æ•£å¸ƒæ·«ç§½ã€è‰²æƒ…ã€èµŒåšã€æš´åŠ›ã€å‡¶æ€ã€ææ€–æˆ–è€…æ•™å”†çŠ¯ç½ªçš„ï¼› â€‹ (åä¸€) ä¾®è¾±æˆ–è¯½è°¤ä»–äººï¼Œä¾µå®³ä»–äººåˆæ³•æƒç›Šçš„ï¼› â€‹ (åäºŒ) å¯¹ä»–äººè¿›è¡Œæš´åŠ›æå“ã€å¨èƒï¼Œå®æ–½äººè‚‰æœç´¢çš„ï¼› â€‹ (åä¸‰) æœªè·å¾—æœªæ»¡18å‘¨å²æœªæˆå¹´äººæ³•å®šç›‘æŠ¤äººçš„ä¹¦é¢åŒæ„ï¼Œä¼ æ’­è¯¥æœªæˆå¹´äººçš„éšç§ä¿¡æ¯çš„ï¼› â€‹ (åå››) æ•£å¸ƒæ±¡è¨€ç§½è¯­ï¼ŒæŸåç¤¾ä¼šå…¬åºè‰¯ä¿—çš„ï¼› â€‹ (åäº”) ä¾µçŠ¯ä»–äººçŸ¥è¯†äº§æƒçš„ï¼› â€‹ (åå…­) æ•£å¸ƒéæ³•å•†ä¸šå¹¿å‘Šï¼Œæˆ–ç±»ä¼¼çš„å•†ä¸šæ‹›æ½ä¿¡æ¯ï¼› â€‹ (åä¸ƒ) ä½¿ç”¨æœ¬ç½‘ç«™å¸¸ç”¨è¯­è¨€æ–‡å­—ä»¥å¤–çš„å…¶ä»–è¯­è¨€æ–‡å­—è¯„è®ºçš„ï¼› â€‹ (åå…«) ä¸æ‰€è¯„è®ºçš„ä¿¡æ¯æ¯«æ— å…³ç³»çš„ï¼› â€‹ (åä¹) æ‰€å‘è¡¨çš„ä¿¡æ¯æ¯«æ— æ„ä¹‰çš„ï¼Œæˆ–åˆ»æ„ä½¿ç”¨å­—ç¬¦ç»„åˆä»¥é€ƒé¿æŠ€æœ¯å®¡æ ¸çš„ï¼› â€‹ (äºŒå) æ³•å¾‹ã€æ³•è§„å’Œè§„ç« ç¦æ­¢ä¼ æ’­çš„å…¶ä»–ä¿¡æ¯ã€‚ äº”ã€å¯¹è¿åä¸Šè¿°æ‰¿è¯ºçš„ç”¨æˆ·ï¼Œæˆ‘ä»¬æœ‰æƒæ‹’ç»å‘å¸ƒã€åˆ é™¤è¯„è®ºã€çŸ­æœŸç¦æ­¢å‘è¨€ç›´è‡³æ°¸ä¹…å…³é—­æ³¨å†Œè´¦å·ç­‰ç®¡ç†æªæ–½ã€‚ å…­ã€è‹¥ç”¨æˆ·è¿åæ‰¿è¯ºã€å‘å¸ƒä¾µå®³ç¬¬ä¸‰äººåˆæ³•æƒç›Šçš„ä¿¡æ¯è€Œå¯¼è‡´æœ¬ç½‘ç«™è¢«åˆ¤å†³å‘è¢«ä¾µæƒäººèµ”å¿ï¼Œæˆ‘ä»¬ä¿ç•™ä¾æ³•å‘è¯¥ç”¨æˆ·è¿½å¿çš„æƒåˆ©ã€‚ ä¸ƒã€æœ¬ç½‘ç«™æ‰¿è¯ºï¼Œå®Œå–„å…¬ä¼—ä¸¾æŠ¥å¹³å°ï¼Œæ¬¢è¿ç”¨æˆ·ç›‘ç£ä¸¾æŠ¥å„ç±»ä¸æ³•ä¼ æ’­æ´»åŠ¨å’Œè¿æ³•æœ‰å®³ä¿¡æ¯ï¼Œä»¥å…±åŒç»´æŠ¤æ–‡æ˜ã€æœ‰ä»·å€¼çš„è¯„è®ºç¯å¢ƒï¼Œè¥é€ æ¸…æœ—çš„ç½‘ç»œç©ºé—´ã€‚"},{"title":"","date":"2022-05-17T16:18:03.001Z","updated":"2022-05-17T16:18:03.001Z","comments":false,"path":"protocol/copyright/index.html","permalink":"https://it65720.top/protocol/copyright/index.html","excerpt":"","text":"ç‰ˆæƒåè®® æœ¬ç«™æ‰€æœ‰åŸåˆ›æ–‡ç« é‡‡ç”¨ CC BY-NC-SA 4.0 è®¸å¯åè®® åˆ›ä½œäººå…è®¸ä»–äººå¯¹è‡ªå·±äº«æœ‰è‘—ä½œæƒçš„ä½œå“æˆ–æ¼”ç»ä½œå“è¿›è¡Œè½¬è½½ã€èŠ‚é€‰ã€æ··ç¼–ã€äºŒæ¬¡åˆ›ä½œï¼Œä½†ä¸å¾—ç”¨äºå•†ä¸šç›®çš„ï¼Œä¸”ä½¿ç”¨æ—¶é¡»ç½²åï¼Œé¡»é‡‡ç”¨ä¸æœ¬åˆ›ä½œç›¸åŒçš„åè®®è¿›è¡Œæˆæƒã€‚"}],"posts":[{"title":"hahah","slug":"test11 copy","date":"2022-05-24T12:07:23.174Z","updated":"2022-06-07T01:04:41.562Z","comments":true,"path":"/2022052495b172e3.html","link":"","permalink":"https://it65720.top/2022052495b172e3.html","excerpt":"","text":"åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œç”¨äº†å¾ˆå¤§çš„ç¯‡å¹…ä»‹ç»äº†MyBatisçš„é…ç½®ï¼Œå¹¶ä¸”å†æœ€åè¿›è¡Œäº†ç®€å•çš„CRUDæ“ä½œï¼Œè¿™ç¯‡æ–‡ç« æŒ‰ç…§ç‚¹çš„æ–¹å¼æ¥ä»‹ç»ä¸€ä¸‹MyBatisé‚£äº›æœ‰åˆ«äºJDBCçš„ç”¨æ³•ã€‚ ä¸€ã€Mapperä»£ç†æ¨¡å¼åœ¨åŸºç¡€çš„åº”ç”¨ä¸­ä½¿ç”¨SqlSessionä¼ å€¼statementId(Mapperæ–‡ä»¶çš„namespace+å¯¹åº”æ˜ å°„è¯­å¥çš„id)å®ç°å¯¹æ•°æ®åº“çš„è®¿é—®ï¼Œå…¶ä¸­çš„statementIdç¡¬ç¼–ç åœ¨ä»£ç ä¸­ï¼Œåœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬éšæ—¶éšåœ°éœ€è¦å…³æ³¨è¿™äº›ç¡¬ç¼–ç çš„åœ°æ–¹ï¼Œä½¿ç”¨Mapperä»£ç†çš„æ–¹å¼å¯ä»¥æ˜¯æˆ‘ä»¬çš„å¼€å‘çš„æ³¨æ„ç‚¹æ”¾åœ¨ä¹¦å†™SQLå’Œæ¥å£çš„ç¼–å†™ä¸Šï¼Œæ¥å£å®ç°å¯¹è±¡ç”±mybatisè‡ªåŠ¨ç”Ÿæˆä»£ç†å¯¹è±¡ã€‚å…·ä½“å®ç°è¿˜éœ€è¦æ»¡è¶³MyBatisçš„çº¦å®šï¼š mapper.xmlæ˜ å°„æ–‡ä»¶ä¸­namespaceæŒ‡å®šä¸ºmapperæ¥å£çš„å…¨é™å®šåï¼Œæ­¤æ­¥éª¤ç›®çš„ï¼šé€šè¿‡mapper.xmlå’Œmapper.javaè¿›è¡Œå…³è” mapper.xmlä¸­statementçš„idå°±æ˜¯mapper.javaä¸­æ–¹æ³•å mapper.xmlä¸­statementçš„parameterTypeå’Œmapper.javaä¸­æ–¹æ³•è¾“å…¥å‚æ•°ç±»å‹ä¸€è‡´ mapper.xmlä¸­statementçš„resultTypeå’Œmapper.javaä¸­æ–¹æ³•è¿”å›å€¼ç±»å‹ä¸€è‡´å…·ä½“ä»£ç å¦‚ä¸‹ï¼š ï¼ˆ1ï¼‰åˆ›å»ºä¸€ä¸ªMapperæ¥å£ UserMapper.xml1234567package com.alex.mapper;import com.alex.pojo.User;import java.util.List;public interface IUserMapper &#123; public List&lt;User&gt; findAll(); public User findUserById(Integer id);&#125; ï¼ˆ2ï¼‰ä¿®æ”¹ï¼ˆæ–°å»ºï¼‰mapper.xmlï¼Œæ³¨æ„ä¿®æ”¹namespace12345678910111213141516171819202122&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&lt;mapper namespace=&quot;com.alex.mapper.IUserMapper&quot;&gt; &lt;!-- ç”¨æˆ·ä¿¡æ¯ResultMap --&gt; &lt;resultMap id=&quot;userResultMap&quot; type=&quot;com.alex.pojo.User&quot;&gt; &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt; &lt;result column=&quot;username&quot; property=&quot;username&quot;/&gt; &lt;result column=&quot;password&quot; property=&quot;password&quot;/&gt; &lt;result column=&quot;birthday&quot; property=&quot;birthday&quot;/&gt; &lt;/resultMap&gt; &lt;select id=&quot;findAll&quot; resultType=&quot;com.alex.pojo.User&quot;&gt; select * from user &lt;/select&gt; &lt;!-- æ ¹æ®ç”¨æˆ·ç¼–å·ï¼ŒæŸ¥è¯¢å•ä¸ªç”¨æˆ·å®ä½“ --&gt; &lt;select id=&quot;findUserById&quot; parameterType=&quot;int&quot; resultMap=&quot;userResultMap&quot;&gt; SELECT * FROM user WHERE id = #&#123;id,javaType=int,jdbcType=NUMERIC&#125; &lt;/select&gt;&lt;/mapper&gt; ï¼ˆ3ï¼‰é€šè¿‡getMapperæ–¹æ³•è·å–Mapperæ¥å£ä»£ç†å¯¹è±¡ï¼Œä½¿ç”¨æ¥å£ä¸­çš„æ–¹æ³•è¿›è¡Œæ•°æ®åº“è®¿é—®1234567891011// çœç•¥ä¸Šé¢è·å–sqlSessionçš„ä»£ç ï¼Œå¯ä»¥æŸ¥çœ‹ä¸Šä¸€ç¯‡çš„ä»£ç IUserMapper userMapper = sqlSession.getMapper(IUserMapper.class);List&lt;User&gt; list = userMapper.findAll();for (User user : list) &#123; System.out.println(user);&#125;User user = userMapper.findUserById(1);System.out.println(user);System.out.println(&quot;---------------------&quot;);User user = userMapper.findUserById(1);System.out.println(user); ä¸Šé¢çš„Mapperå¯¹è±¡æ˜¯MyBatisç”Ÿäº§å‡ºçš„ä»£ç†å¯¹è±¡,å…·ä½“å¯ä»¥çœ‹ä¸‹å›¾ ä»£ç†å¯¹è±¡ åœ¨ä¸Šé¢çš„é…ç½®ä¸­ä¸€å®šè¦éµå®ˆä¸Šé¢çš„å››æ¡çº¦å®šï¼Œç‰¹åˆ«è¦æ³¨æ„çš„æ˜¯namespaceä¸å¯ä»¥ä½¿ç”¨åˆ«å åœ¨å®é™…çš„ä½¿ç”¨ä¸­ä¸€èˆ¬éƒ½ä¼šä½¿ç”¨Mapperä»£ç†æ¨¡å¼ï¼Œåç»­æ‰€æœ‰çš„ä»‹ç»éƒ½å°†åŸºäºè¿™ç§å¼€å‘æ¨¡å¼è¿›è¡Œ äºŒã€å¦‚ä½•ä¼ å…¥å¤šä¸ªå‚æ•°åœ¨ä¸Šé¢findUserByIdæ–¹æ³•ä¸­ï¼Œä¼ å…¥äº†ä¸€ä¸ªIntegerç±»å‹çš„idè¿›è¡ŒæŸ¥è¯¢ï¼Œå®é™…ä½¿ç”¨ä¸­å¯èƒ½ä¼šä¼ å…¥å¤šä¸ªå‚æ•°ï¼ŒMyBatisä¸»è¦æä¾›äº†ä»¥ä¸‹å››ç§æ–¹å¼å®ç° 1ã€ä½¿ç”¨mapæ¥å£ä¼ å…¥å‚æ•°public List&lt;User&gt; findUserByMap(Map&lt;String, Object&gt; parameterMap); &lt;select id=&quot;findUserByMap&quot; parameterType=&quot;map&quot; resultType=&quot;User&quot;&gt; select * from user where username =#&#123;username&#125; and password = #&#123;password&#125;&lt;/select&gt; mapé€‚ç”¨å‡ ä¹æ‰€æœ‰åœºæ™¯ï¼Œä½†æ˜¯mapæ˜¯ä¸€ä¸ªé”®å€¼å¯¹åº”çš„é›†åˆï¼Œä½¿ç”¨è€…è¦é€šè¿‡é˜…è¯»å®ƒçš„é”®ï¼Œæ‰èƒ½æ˜äº†å…¶ä½œç”¨ï¼›å…¶æ¬¡ï¼Œä½¿ç”¨mapä¸èƒ½é™å®šå…¶ä¼ é€’çš„æ•°æ®ç±»å‹ï¼Œå› æ­¤ä¸šåŠ¡æ€§è´¨ä¸å¼ºï¼Œå¯è¯»æ€§å·®ï¼Œä½¿ç”¨è€…è¦è¯»æ‡‚ä»£ç æ‰èƒ½çŸ¥é“éœ€è¦ä¼ é€’ä»€ä¹ˆå‚æ•°ç»™å®ƒã€‚ 2ã€ä½¿ç”¨æ³¨è§£å‚æ•°ä¼ å…¥å‚æ•°public List&lt;User&gt; findUserByAnnotation(@Param(&quot;userName&quot;) String username, @Param(&quot;password&quot;) String password); &lt;select id=&quot;findUserByAnnotation&quot; resultType=&quot;User&quot;&gt; select * from user where username =#&#123;userName&#125; and password = #&#123;password&#125;&lt;/select&gt; MyBatisæä¾›äº†ä¸€ä¸ªæ³¨è§£@Paramorg.apache.ibatis.annotations.Paramï¼Œå¯ä»¥é€šè¿‡å®ƒå»å®šä¹‰æ˜ å°„å™¨çš„å‚æ•°åç§°ï¼Œä½¿ç”¨å®ƒå¯ä»¥å¾—åˆ°æ›´å¥½çš„å¯è¯»æ€§,æ­¤æ—¶å¹¶ä¸éœ€è¦ç»™å‡ºparameterTypeå±æ€§ï¼Œä½†æ˜¯è¿™ä¼šå¸¦æ¥ä¸€ä¸ªéº»çƒ¦ã€‚å¦‚æœSQLå¾ˆå¤æ‚ï¼Œæ‹¥æœ‰å¤§äº10ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆæ¥å£æ–¹æ³•çš„å‚æ•°ä¸ªæ•°å°±å¤šäº†ï¼Œä½¿ç”¨èµ·æ¥å°±å¾ˆä¸å®¹æ˜“ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦å®ä½“ç±»ã€Java Beançš„æ–¹æ³•è¿›è¡Œä¼ é€’äº†ã€‚ 3ã€ä½¿ç”¨Java Beanä¼ å…¥å‚æ•°public List&lt;User&gt; findUserByBean(User userParam); &lt;select id=&quot;findUserByBean&quot; parameterType=&quot;com.alex.pojo.User&quot; resultType=&quot;User&quot;&gt; select * from user where username =#&#123;username&#125; and password = #&#123;password&#125;&lt;/select&gt; 4ã€æ··åˆä½¿ç”¨@Paramæ³¨è§£åé¢é™¤äº†åŸºç¡€æ•°æ®ç±»å‹å’ŒJavaå†…ç½®ç±»å‹ä»¥å¤–ï¼Œè¿˜å¯ä»¥ä¼ å…¥è‡ªå®šä¹‰çš„å®ä½“ç±»ã€Java Beanã€‚ public List&lt;User&gt; findByMix(@Param(&quot;params&quot;) User userParam); &lt;select id=&quot;findByMix&quot; resultType=&quot;User&quot;&gt; select * from user where username =#&#123;params.username&#125; and password = #&#123;params.password&#125;&lt;/select&gt; ä»¥ä¸Šæ˜¯å››ç§ä¼ å‚çš„æ–¹å¼ï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œé€‰å–ã€‚ ä¸‰ã€å¦‚ä½•è®°å½•SQLæŸ¥è¯¢æ—¥å¿—ç›®å‰çš„é…ç½®ä¸‹ï¼ŒMyBatisæ‰§è¡ŒSQLæ—¶ä¸ä¼šå°†è¿è¡Œæ—¥å¿—è¾“å‡ºåœ¨æ§åˆ¶å°æˆ–è€…å†™åœ¨æ—¥å¿—ä¸­ï¼Œåœ¨åç»­çš„ä½¿ç”¨ä¸­éœ€è¦çœ‹ä¸€ä¸‹SQLæŸ¥è¯¢çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é€šè¿‡é…ç½®ä½¿ç”¨MyBatisæ—¥å¿—åŠŸèƒ½ã€‚åœ¨è®²MyBatisçš„ä¸»é…ç½®æ–‡ä»¶ä¸­ï¼Œæœ‰ä¸€ä¸ªsettingså±æ€§è®¾ç½®æœ‰ä¸€ä¸ªé…ç½®é¡¹logImplï¼Œè¿™ä¸ªé‡Œé¢å¯é…ç½®çš„æœ‰SLF4J|LOG4J|LOG4J2|JDK_LOGGING|COMMONS_LOGGING|STDOUT_LOGGING|NO_LOGGINGï¼Œä¸‹é¢ä»‹ç»ä¸¤ç§æ–¹å¼è¿›è¡Œæ—¥å¿—çš„è¾“å‡ºã€‚ 1ã€STDOUT_LOGGINGMyBatisä¸»é…ç½®æ–‡ä»¶&lt;settings&gt; &lt;setting name=&quot;logImpl&quot; value=&quot;STDOUT_LOGGING&quot; /&gt;&lt;/settings&gt; è¿è¡Œæ—¥å¿—æ§åˆ¶å°æˆªå›¾1 è¿™ç§æ–¹å¼ä¸å¤ªå¥½çš„åœ°æ–¹, å°±æ˜¯è¿˜æ˜¯ä½œä¸ºæ§åˆ¶å°è¾“å‡ºçš„System.out.println, æ— æ³•ä½¿ç”¨æˆ‘ä»¬çš„æ—¥å¿—é…ç½®æ ¼å¼, ä¹Ÿæ²¡æœ‰åˆ·åˆ°æ—¥å¿—æ–‡ä»¶ä¸­ï¼ŒDebugè°ƒè¯•è¿˜å¯ä»¥ï¼Œä½†æ˜¯åœ¨ç”Ÿäº§ä¸­å»ºè®®ç»“åˆæ—¥å¿—æ¡†æ¶è¿›è¡Œæ“ä½œã€‚ 2ã€SLF4J(1)pom.xmlå¼•å…¥slf4jçš„jaråŒ…12345678910&lt;dependency&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j&lt;/artifactId&gt; &lt;version&gt;1.2.17&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt; &lt;version&gt;1.7.7&lt;/version&gt;&lt;/dependency&gt; (2)ä¿®æ”¹MyBatisä¸»é…ç½®æ–‡ä»¶123&lt;settings&gt; &lt;setting name=&quot;logImpl&quot; value=&quot;SLF4J&quot; /&gt;&lt;/settings&gt; (3)åœ¨é¡¹ç›®ä¸­åˆ›å»ºlog4j.properties123456789101112131415161718192021#å°†ç­‰çº§ä¸ºDEBUGçš„æ—¥å¿—ä¿¡æ¯è¾“å‡ºåˆ°consoleå’Œfileè¿™ä¸¤ä¸ªç›®çš„åœ°ï¼Œconsoleå’Œfileçš„å®šä¹‰åœ¨ä¸‹é¢çš„ä»£ç log4j.rootLogger=DEBUG,console,file#æ§åˆ¶å°è¾“å‡ºçš„ç›¸å…³è®¾ç½®log4j.appender.console = org.apache.log4j.ConsoleAppenderlog4j.appender.console.Target = System.outlog4j.appender.console.Threshold=DEBUGlog4j.appender.console.layout = org.apache.log4j.PatternLayoutlog4j.appender.console.layout.ConversionPattern=[%c]-%m%n#æ–‡ä»¶è¾“å‡ºçš„ç›¸å…³è®¾ç½®log4j.appender.file = org.apache.log4j.RollingFileAppenderlog4j.appender.file.File=./log/alex.loglog4j.appender.file.MaxFileSize=10mblog4j.appender.file.Threshold=DEBUGlog4j.appender.file.layout=org.apache.log4j.PatternLayoutlog4j.appender.file.layout.ConversionPattern=[%p][%d&#123;yy-MM-dd&#125;][%c]%m%n#æ—¥å¿—è¾“å‡ºçº§åˆ«log4j.logger.org.mybatis=DEBUGlog4j.logger.java.sql=DEBUGlog4j.logger.java.sql.Statement=DEBUGlog4j.logger.java.sql.ResultSet=DEBUGlog4j.logger.java.sq1.PreparedStatement=DEBUG è¿è¡Œæ—¥å¿—æ§åˆ¶å°æˆªå›¾2 è¿è¡Œæ—¥å¿—æ–‡ä»¶æˆªå›¾ æ–‡ç« ä¸­æš‚æ—¶ä½¿ç”¨STDOUT_LOGGINGè¿›è¡Œæ—¥å¿—çš„è¾“å‡º å››ã€#{}å’Œ${}çš„åŒºåˆ«åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ä½¿ç”¨#{}ä»£æ›¿å‚æ•°ï¼Œå…¶å®è¿˜å¯ä»¥æ˜¯ä½¿ç”¨${}æ¥ä»£æ›¿å‚æ•°ã€‚#{} æ˜¯é¢„ç¼–è¯‘å¤„ç†ã€‚${} å°±æ˜¯å­—ç¬¦ä¸²æ›¿æ¢ã€‚ç›´æ¥æ›¿æ¢æ‰å ä½ç¬¦ã€‚$æ–¹å¼ä¸€èˆ¬ç”¨äºä¼ å…¥æ•°æ®åº“å¯¹è±¡ï¼Œä¾‹å¦‚ä¼ å…¥è¡¨åã€‚ä½¿ç”¨ ${} çš„è¯ä¼šå¯¼è‡´ sql æ³¨å…¥ã€‚ä»€ä¹ˆæ˜¯ SQL æ³¨å…¥å‘¢ï¼Ÿæ¯”å¦‚ select * from user where id &#x3D; ${id}è¿™é‡Œçš„idåº”è¯¥æ˜¯ä¸€ä¸ªæ•°å€¼ã€‚ç„¶åå¦‚æœå¯¹æ–¹ä¼ è¿‡æ¥çš„æ˜¯ 001 and name &#x3D; tomã€‚å°±ç›¸å½“äºå¤šåŠ äº†ä¸€ä¸ªæ¡ä»¶ã€‚æˆ–è€…æŠŠSQLè¯­å¥ç›´æ¥å†™è¿›æ¥äº†ï¼Œ001;drop table userï¼Œå°±ç›´æ¥æŠŠè¡¨ç»™åˆ äº†ï¼ï¼ï¼æ‰€ä»¥ä¸ºäº†é˜²æ­¢ SQL æ³¨å…¥ï¼Œèƒ½ç”¨ #{} çš„ä¸è¦å»ç”¨${} å¦‚æœéè¦ç”¨ ${} çš„è¯ï¼Œé‚£è¦æ³¨æ„é˜²æ­¢ SQL æ³¨å…¥é—®é¢˜ï¼Œå¯ä»¥æ‰‹åŠ¨åˆ¤å®šä¼ å…¥çš„å˜é‡ï¼Œè¿›è¡Œè¿‡æ»¤ï¼Œä¸€èˆ¬ SQL æ³¨å…¥ä¼šè¾“å…¥å¾ˆé•¿çš„ä¸€æ¡ SQL è¯­å¥ ${}è¿è¡Œçš„æ—¥å¿— ${}è¿è¡Œçš„æ—¥å¿— #{}è¿è¡Œçš„æ—¥å¿— #{}è¿è¡Œçš„æ—¥å¿— è¿™é‡Œä½¿ç”¨çš„findUserByIdæŒ‰ç…§ä¹‹å‰çš„å†™æ³•æ”¹æˆ${}ä¼šæŠ¥é”™org.apache.ibatis.reflection.ReflectionException: There is no getter for property named id in class java.lang.Integer,å› ä¸ºMyBatisåœ¨è§£æçš„æ—¶å€™æŠŠparameterType&#x3D;intè§£ææˆåŒ…è£…ç±»java.lang.Integerï¼Œåœ¨Integerä¸­ä¸å­˜åœ¨idå±æ€§ï¼Œå¯ä»¥ä½¿ç”¨ä¸Šé¢çš„@Paramæ³¨è§£,å¦‚ä¸‹ public User findUserById(@Param(&quot;id&quot;) Integer id); äº”ã€å¦‚ä½•åœ¨SQLä¸­å†™ä¸€ä¸ªlikeæ—¥å¸¸ä½¿ç”¨ä¸­å¸¸å¸¸ä¼šä½¿ç”¨likeæ¥åšæ¨¡ç³ŠæŸ¥è¯¢ï¼Œåœ¨æ™®é€šçš„JDBCä¸­é€šå¸¸ä½¿ç”¨æ‹¼æ¥çš„æ–¹å¼æ¥ä¼ é€’å‚æ•°ï¼ŒMyBatisä¸‹æœ‰äº”ç§æ–¹å¼æ¥è¿›è¡Œlikeçš„æ‹¼æ¥ã€‚é¦–å…ˆæˆ‘ä»¬å…ˆåœ¨Mapperå¯¹åº”çš„Javaä¸­å®šä¹‰ä¸€ä¸ªæ–¹æ³• public List&lt;User&gt; findUserByLike(@Param(&quot;username&quot;) String username); 1ã€ä½¿ç”¨${}è¿›è¡Œæ‹¼æ¥123&lt;select id=&quot;findUserByLike&quot; resultMap=&quot;userResultMap&quot;&gt; SELECT * FROM user WHERE username LIKE &#x27;%$&#123;username&#125;%&#x27;&lt;/select&gt; è¿™ç§æ–¹å¼ç®€å•ï¼Œä½†æ˜¯æ— æ³•é˜²æ­¢SQLæ³¨å…¥ï¼Œæ‰€ä»¥ä¸æ¨èä½¿ç”¨ 2ã€ä½¿ç”¨#{}è¿›è¡Œæ‹¼æ¥123&lt;select id=&quot;findUserByLike&quot; resultMap=&quot;userResultMap&quot;&gt; SELECT * FROM user WHERE username LIKE &quot;%&quot;#&#123;username&#125;&quot;%&quot;&lt;/select&gt; 3ã€ä½¿ç”¨CONCATè¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥123&lt;select id=&quot;findUserByLike&quot; resultMap=&quot;userResultMap&quot;&gt; SELECT * FROM user WHERE username LIKE CONCAT(&#x27;%&#x27;,#&#123;username&#125;,&#x27;%&#x27;)&lt;/select&gt; 4ã€ä½¿ç”¨bindæ ‡ç­¾1234&lt;select id=&quot;findUserByLike&quot; resultMap=&quot;userResultMap&quot;&gt; &lt;bind name=&quot;pattern1&quot; value=&quot;&#x27;%&#x27; + username + &#x27;%&#x27;&quot; /&gt; SELECT * FROM user WHERE username LIKE #&#123;pattern1&#125;&lt;/select&gt; è¿™é‡Œä½¿ç”¨çš„bindæ ‡ç­¾æ˜¯åé¢è¦è®²çš„åŠ¨æ€SQLçš„ä¸€å‘˜ï¼Œä¸»è¦çš„ä½œç”¨å¯ä»¥åœ¨OGNLè¡¨è¾¾å¼ä¸­åˆ›å»ºä¸€ä¸ªå˜é‡å¹¶å°†å…¶ç»‘å®šåˆ°ä¸Šä¸‹æ–‡ï¼Œæ¢å¥è¯è¯´å»ºç«‹æ–°çš„æ˜ å°„å…³ç³»ï¼Œå¯¹å˜é‡è¿›è¡Œæ“ä½œï¼ˆæ¯”å¦‚æ‹¼æ¥ï¼Œæ‹¼æ¥å¯ä»¥æ›¿æ¢CONCATï¼‰ 5ã€åœ¨è°ƒç”¨ä¼ å€¼æ—¶å¤„ç†è¿›è¡Œæ‹¼æ¥123&lt;select id=&quot;findUserByLike&quot; resultMap=&quot;userResultMap&quot;&gt; SELECT * FROM user WHERE username LIKE #&#123;username&#125;&lt;/select&gt; è°ƒç”¨æ—¶ä¼ å€¼1List&lt;User&gt; list = userMapper.findUserByLike(&quot;%al%&quot;); å…­ã€åŠ¨æ€SQLåœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œåœ¨éœ€è¦æ¡ä»¶åŠ¨æ€æ‹¼æ¥çš„æ—¶å€™ä¼šéå¸¸ç—›è‹¦ï¼Œæœ‰æ—¶å€™ä¸ºäº†ä¿è¯SQLçš„æ­£ç¡®æ€§ï¼Œéœ€è¦æ‹¼æ¥where 1&#x3D;1è¿›è¡Œå¡«å……ï¼›æœ‰æ—¶å€™é¢å¯¹åŠ¨æ€çš„å‚æ•°æ—¶è¿˜å¯èƒ½ä¼šå­˜åœ¨SQLæ³¨å…¥çš„é—®é¢˜ã€‚MyBatisæä¾›äº†ä¸€äº›æ ‡ç­¾å®ç°åŠ¨æ€SQLæ¥è§£å†³è¿™äº›é—®é¢˜ã€‚ 1ã€ifæ ‡ç­¾1public List&lt;User&gt; findUserByIf(@Param(&quot;user&quot;) User user); 123456789&lt;select id=&quot;findUserByIf&quot; resultMap=&quot;userResultMap&quot;&gt; SELECT * FROM user WHERE 1=1 &lt;if test=&quot;user!=null and user.username==&#x27;alex&#x27; and user.username!=null&quot;&gt; and username LIKE #&#123;user.username&#125; &lt;/if&gt; &lt;if test=&quot;user!=null and user.id &amp;lt;= 1&quot;&gt; and id = #&#123;user.id&#125; &lt;/if&gt;&lt;/select&gt; ä»ä¸Šé¢çš„å¯ä»¥çœ‹åˆ°ï¼Œä¸­å†™äº†å¯¹ä¼ å…¥å‚æ•°çš„åˆ¤æ–­ï¼Œæ¯”å¦‚å½“userä¼ çš„æ˜¯nullçš„è¯ï¼Œsqlå°†ä¸ä¼šæ‹¼æ¥åœ¨æ‰§è¡Œçš„SQLä¸­ï¼Œå½“userå¯¹è±¡å½“ä¸­usernameä¼ çš„ä¸ä¸ºnullå’Œå¹¶ä¸”ä¸ºalexçš„æ—¶å€™æ‰ä¼šæ‹¼ç¬¬ä¸€æ®µï¼Œå½“idä¼ å…¥çš„æ•°å­—å°äºç­‰äº1çš„æ—¶å€™æ‰ä¼šæ‹¼æ¥ç¬¬äºŒæ®µåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­æœ‰ä¸¤ä¸ªæ³¨æ„çš„ç‚¹ï¼ˆ1ï¼‰åœ¨æ™®é€šçš„ç¨‹åºä¸­é€»è¾‘è¡¨è¾¾å¼æ˜¯&amp;å’Œ|ï¼Œåœ¨ifä¸­ä½¿ç”¨andå’Œorè¿›è¡Œä»£æ›¿ï¼ˆ2ï¼‰åœ¨ XML ä¸­ä»…æœ‰å­—ç¬¦ â€œ&lt;â€å’Œâ€&amp;â€ æ˜¯éæ³•çš„ï¼Œéœ€è¦æŠŠä»–ä»¬å˜æˆè½¬ä¹‰å­—ç¬¦è¿›è¡Œä½¿ç”¨ ç¬¦å· åŸç¬¦å· æ›¿æ¢ç¬¦å· å°äº &lt; &amp;lt; å°äºç­‰äº &lt;&#x3D; &amp;lt;= å¤§äº &gt; &amp;gt; å¤§äºç­‰äº &gt;&#x3D; &amp;gt;= ä¸ç­‰äº &lt;&gt; &amp;lt;&amp;gt; ä¸ &amp; &amp;amp; å•å¼•å· â€˜ &amp;apos; åŒå¼•å· â€œ &amp;quot; é™¤äº†è½¬ç§»å­—ç¬¦çš„å½¢å¼ï¼Œè¿˜å¯ä»¥ä½¿ç”¨CDATAåŒºæ®µè¿›è¡Œæ“ä½œ å¤§äºç­‰äº &lt;![CDATA[ &gt;= ]]&gt;å°äºç­‰äº &lt;![CDATA[ &lt;= ]]&gt;ä¸ç­‰äº&lt;![CDATA[ &lt;&gt; ]]&gt; 2ã€choose, when, otherwiseæ ‡ç­¾åœ¨JAVAç¨‹åºä¸­ï¼Œå¤„ç†ä½¿ç”¨ifåšåˆ¤æ–­ï¼Œè¿˜ä¼šä½¿ç”¨switchåšåˆ¤æ–­ï¼Œæ¯”å¦‚åœ¨åˆ¤æ–­æšä¸¾çš„æ—¶å€™ï¼Œä¼šæ ¹æ®ä¸é€šçš„ç±»å‹æ¥æ‹¼æ¥SQLï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨chooseæ ‡ç­¾ public List&lt;User&gt; findUserByChoose(@Param(&quot;user&quot;) User user); 1234567891011121314&lt;select id=&quot;findUserByChoose&quot; resultMap=&quot;userResultMap&quot;&gt; SELECT * FROM user where 1=1 &lt;choose&gt; &lt;when test=&quot;user!=null and user.id == 1&quot;&gt; AND id = 6 &lt;/when&gt; &lt;when test=&quot;user!=null and user.id == 2 &quot;&gt; AND id = 5 &lt;/when&gt; &lt;otherwise&gt; AND id = 7 &lt;/otherwise&gt; &lt;/choose&gt;&lt;/select&gt; ä¸Šé¢ä¾‹å­æ„æ€æ˜¯åœ¨ä¼ å…¥çš„userå¯¹è±¡idä¸º1çš„æ—¶å€™æ‹¼æ¥ç¬¬ä¸€æ®µSQLï¼Œå¦‚æœidä¸º2æ—¶å€™æ‹¼æ¥ç¬¬äºŒæ®µSQLï¼Œå¦‚æœéƒ½ä¸æ»¡è¶³åˆ™æ‹¼æ¥ç¬¬ä¸‰æ®µSQLï¼Œä¾‹å­å¯èƒ½æ²¡æœ‰ç‰¹æ®Šçš„å«ä¹‰ï¼Œç†è§£æ„æ€å³å¯ï¼Œç”¨æ³•ç±»ä¼¼switchã€‚ 3ã€where,trim, setæ ‡ç­¾åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­è¿˜æ˜¯å­˜åœ¨where 1&#x3D;1çš„æ‹¼æ¥ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ç»“åˆwhereæ ‡ç­¾è¿›è¡ŒåŠ¨æ€çš„æ‹¼æ¥ 1234567891011&lt;select id=&quot;findUserByIf&quot; resultMap=&quot;userResultMap&quot;&gt; SELECT * FROM user &lt;where&gt; &lt;if test=&quot;user!=null and user.username==&#x27;alex&#x27; and user.username!=null&quot;&gt; and username LIKE #&#123;user.username&#125; &lt;/if&gt; &lt;if test=&quot;user!=null and user.id &amp;lt;= 1&quot;&gt; and id = #&#123;user.id&#125; &lt;/if&gt; &lt;/where&gt;&lt;/select&gt; è¿™ä¸ªæ ‡ç­¾é‡Œé¢ä¼šè‡ªåŠ¨æ‹¼æ¥ä¸Šwhere å¹¶ä¸”æŠŠç¬¬ä¸€ä¸ªandæˆ–è€…orå»æ‰é™¤äº†ä¸Šé¢çš„whereæ ‡ç­¾ï¼Œè¿˜å¯ä»¥MyBatisæä¾›çš„trimæ ‡ç­¾ï¼Œä»£ç å¦‚ä¸‹ï¼š 1234567891011&lt;select id=&quot;findUserByIf&quot; resultMap=&quot;userResultMap&quot;&gt; SELECT * FROM user &lt;trim prefix=&quot;WHERE&quot; prefixOverrides=&quot;AND|OR&quot;&gt; &lt;if test=&quot;user!=null and user.username==&#x27;alex&#x27; and user.username!=null&quot;&gt; username LIKE #&#123;user.username&#125; &lt;/if&gt; &lt;if test=&quot;user!=null and user.id &amp;lt;= 1&quot;&gt; or id = #&#123;user.id&#125; &lt;/if&gt; &lt;/trim&gt;&lt;/select&gt; ä»‹ç»å®Œäº†whereçš„æƒ…å†µï¼Œåœ¨ä¿®æ”¹çš„æ—¶å€™ä¼šä½¿ç”¨setè¯­è¨€ï¼Œè¿™ä¸ªæ—¶å€™setçš„å€¼ä¹Ÿéœ€è¦è‡ªåŠ¨æ‹¼æ¥ï¼Œåœ¨æœ€åä¸€ä¸ªçš„å­—æ®µçš„æ—¶å€™éœ€è¦æŠŠæ‹¼æ¥çš„é€—å·å»æ‰ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨setæ ‡ç­¾ï¼Œä»£ç å¦‚ä¸‹ï¼š 123456789&lt;update id=&quot;updateUserByIf&quot;&gt; update user &lt;set&gt; &lt;if test=&quot;user.username != null&quot;&gt;username=#&#123;user.username&#125;,&lt;/if&gt; &lt;if test=&quot;user.password != null&quot;&gt;password=#&#123;user.password&#125;,&lt;/if&gt; &lt;if test=&quot;user.birthday != null&quot;&gt;birthday=#&#123;user.birthday&#125;,&lt;/if&gt; &lt;/set&gt; where id=#&#123;id&#125;&lt;/update&gt; åŒwhereæ ‡ç­¾ç›¸åŒï¼Œsetæ ‡ç­¾ä¼šè‡ªåŠ¨æ·»åŠ setä»¥åŠå»æ‰æœ€åçš„é€—å·åŒæ ·çš„ï¼Œsetæ ‡ç­¾ä¹Ÿå¯ä»¥ä½¿ç”¨trimæ ‡ç­¾ä»£æ›¿ï¼Œä»£ç å¦‚ä¸‹ï¼š 123456789&lt;update id=&quot;updateUserByIf&quot;&gt; update user &lt;trim prefix=&quot;SET&quot; suffixOverrides=&quot;,&quot;&gt; &lt;if test=&quot;user.username != null&quot;&gt;username=#&#123;user.username&#125;,&lt;/if&gt; &lt;if test=&quot;user.password != null&quot;&gt;password=#&#123;user.password&#125;,&lt;/if&gt; &lt;if test=&quot;user.birthday != null&quot;&gt;birthday=#&#123;user.birthday&#125;,&lt;/if&gt; &lt;/trim&gt; where id=#&#123;user.id&#125;&lt;/update&gt; è®²äº†è¿™ä¹ˆå¤šçš„trimæ ‡ç­¾ï¼Œå‘ç°ä»–é‡Œé¢æœ‰å››ä¸ªä¸»è¦çš„å±æ€§ï¼š prefix :åœ¨trimä¸­åŒ…å«çš„è¯­å¥å‰åŠ ä¸Šå‰ç¼€å†…å®¹ suffix :åœ¨trimä¸­åŒ…å«çš„è¯­å¥ååŠ ä¸Šåç¼€å†…å®¹ prefixOverrides:å»é™¤å¯¹åº”çš„å‰ç¼€ suffixOverrides :å»é™¤å¯¹åº”çš„åç¼€trimæ ‡ç­¾åœ¨insertä¸­å¯ä»¥ä½¿ç”¨prefixï¼Œsuffixï¼ŒsuffixOverridesçš„ç»“åˆå»æ‰æœ€åçš„ï¼Œå¹¶åœ¨å‰åæ‹¼æ¥æ‹¬å·ã€‚ 4ã€foreachæ ‡ç­¾æœ‰æ—¶å€™å‚æ•°ä¼šä¼ å…¥ä¸€ä¸ªé›†åˆæˆ–æ•°ç»„è¿›è¡Œéå†ï¼Œé€šå¸¸è¿™ç§æƒ…å†µå‘ç”Ÿåœ¨INçš„æ‹¼æ¥å’Œinsertçš„æ‹¼æ¥ä¸­ public List&lt;User&gt; findUserByForeach(@Param(&quot;usernameList&quot;)List usernameList); 12345678910&lt;select id=&quot;findUserByForeach&quot; resultMap=&quot;userResultMap&quot;&gt; SELECT * FROM user &lt;where&gt; &lt;foreach collection=&quot;usernameList&quot; open=&quot;username IN (&quot; close=&quot;)&quot; separator=&quot;,&quot; item=&quot;username&quot; index=&quot;i&quot;&gt; &lt;if test=&quot;username != null and username != &#x27;&#x27;&quot;&gt; #&#123;username&#125; &lt;/if&gt; &lt;/foreach&gt; &lt;/where&gt;&lt;/select&gt; inè§£æçš„SQL foreachä¸»è¦çš„å±æ€§æœ‰ä¸‹é¢å‡ ä¸ª collectionï¼šå…¥å‚ç±»å‹ï¼Œå¯ä»¥æ˜¯listã€array openï¼šå‰ç¼€ closeï¼šåç¼€ separatorï¼š å¾ªç¯çš„éƒ¨åˆ†ä»¥æ­¤åˆ†å‰² itemï¼šé›†åˆï¼ˆæ•°ç»„ï¼‰å­å…ƒç´ çš„åˆ«åã€‚å­å…ƒç´ ä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡ indexï¼šå½“å‰å­å…ƒç´ çš„ä¸‹æ ‡ã€‚ 5ã€bindæ ‡ç­¾bindæ ‡ç­¾åœ¨ä¸Šé¢çš„likeæ‹¼æ¥ä¸­ä½¿ç”¨è¿‡ï¼Œä½œç”¨æ˜¯å°†å¯¹åº”ä¼ è¿‡æ¥çš„å‚æ•°è¿›è¡Œæ‹¼æ¥æˆæ–°çš„å‚æ•°è¿›è¡Œä½¿ç”¨ã€‚ 1234&lt;select id=&quot;findUserByLike&quot; resultMap=&quot;userResultMap&quot;&gt; &lt;bind name=&quot;pattern1&quot; value=&quot;&#x27;%&#x27; + username + &#x27;%&#x27;&quot; /&gt; SELECT * FROM user WHERE username LIKE #&#123;pattern1&#125;&lt;/select&gt; 6ã€sqlæ ‡ç­¾åœ¨ä¸Šé¢çš„æ‰€æœ‰SQLè¯­å¥ä¸­ï¼Œæˆ‘ä»¬éƒ½æœ‰ä¸€å¥å…±åŒçš„SELECT * FROM userï¼Œå½“ç„¶æ­£å¼ä½¿ç”¨è‚¯å®šä¸èƒ½ç”¨*ï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨å­—æ®µåï¼Œä½†æ˜¯å­—æ®µåå¤šçš„è¯ä¼šæœ‰å¾ˆå¤šçš„é‡å¤æ€§ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥æŠŠå…¬å…±çš„SQLæå‡ºåˆ°sqlæ ‡ç­¾ä¸­ï¼Œåé¢åœ¨ä½¿ç”¨çš„åœ°æ–¹è¿›è¡Œå¼•ç”¨ã€‚ å®šä¹‰sqlæ ‡ç­¾123&lt;sql id=&quot;selectSql&quot;&gt; select * from user&lt;/sql&gt; ä½¿ç”¨includeæ ‡ç­¾è¿›è¡Œå¼•ç”¨123&lt;select id=&quot;findUserById&quot; resultMap=&quot;userResultMap&quot;&gt; &lt;include refid=&quot;selectSql&quot; /&gt; WHERE id = $&#123;id&#125;&lt;/select&gt; sqlæ ‡ç­¾ä¹Ÿæ”¯æŒå¤šæ•°æ®åº“å‚å•†æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨databaseIdè¿›è¡Œé…ç½®ã€‚ ä¸ƒã€å¦‚ä½•è·å¾—æ•°æ®åº“çš„è‡ªå¢ä¸»é”®æ•°æ®åº“çš„è‡ªå¢ä¸»é”®ä¸»è¦åˆ†ä¸¤ç§ï¼Œç¬¬ä¸€ç§ä½¿ç”¨æ•°æ®åº“çš„æœºåˆ¶è‡ªåŠ¨é€’å¢ç”Ÿæˆä¸»é”®å¦‚Mysqlã€SQLServerç­‰ï¼Œç¬¬äºŒç§å°±æ˜¯ä½¿ç”¨åºåˆ—æœºåˆ¶æ‰‹åŠ¨è°ƒæ•´åºåˆ—ç”Ÿæˆä¸»é”®å¦‚Oracleã€‚ 1ã€MysqLè·å–è‡ªå¢ä¸»é”®Mysqlè¿™ç§å¯ä»¥è‡ªåŠ¨ç”Ÿæˆä¸»é”®çš„å¯ä»¥ä½¿ç”¨useGeneratedKeys=&#39;true&#39;è¡¨æ˜ä½¿ç”¨è‡ªå¢ä¸»é”®è·å–ä¸»é”®å€¼ç­–ç•¥,ç„¶åå†ç”¨keyPropertyå±æ€§å‘Šè¯‰Mybatisç”Ÿæˆçš„ä¸»é”®å°è£…åœ¨å“ªä¸ªå±æ€§ä¸­ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š 1ã€æ·»åŠ Mapperæ˜ å°„æ–¹æ³•1234&lt;insert id=&quot;insertUser&quot; parameterType=&quot;com.alex.pojo.User&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;&gt; INSERT INTO user(username,password,birthday) VALUES(#&#123;username&#125;,#&#123;password&#125;,#&#123;birthday&#125;); &lt;/insert&gt; 2ã€å®šä¹‰Javaæ–¹æ³•1public void insertUser(User user); 3ã€è°ƒç”¨æ–¹æ³•123456User userInfo = new User();userInfo.setUsername(&quot;lalala&quot;);userInfo.setPassword(&quot;123456&quot;);userInfo.setBirthday(&quot;2022-05-01&quot;);userMapper.insertUser(userInfo);System.out.println(userInfo); è‡ªåŠ¨ç”Ÿæˆä¸»é”®ä¼šå†™åˆ°å¯¹è±¡ä¸­ 2ã€Oracleè·å–è‡ªå¢ä¸»é”®Oracleå¹¶ä¸æ”¯æŒè‡ªå¢ï¼Œä½†å¯ä»¥ä½¿ç”¨åºåˆ—æ¥æ¨¡æ‹Ÿè‡ªå¢ï¼Œæ¯æ¬¡æ’å…¥çš„æ•°æ®çš„ä¸»é”®æ˜¯ä»åºåˆ—ä¸­æ‹¿åˆ°çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨selectKeyå®ç°åºåˆ—å€¼çš„æ·»åŠ å¹¶å†™åˆ°ä¸»é”®ä¸­ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š 1234567&lt;insert id=&quot;insertUser&quot; parameterType=&quot;com.alex.pojo.User&quot;&gt; &lt;selectKey keyProperty=&quot;id&quot; order=&quot;BEFORE&quot; resultType=&quot;Integer&quot;&gt; select USER_SEQ.nextval from dual &lt;/selectKey&gt; insert into tb_user (id, username,password,birthday) values (#&#123;id&#125;, #&#123;username&#125;,#&#123;password&#125;,#&#123;birthday&#125;)&lt;/insert&gt; æˆ–è€…è¿˜å¯ä»¥ç›´æ¥è°ƒç”¨SQLåœ¨åºåˆ—ä¸­ç›´æ¥æ‹¼æ¥ 1234567&lt;insert id=&quot;insertUser&quot; parameterType=&quot;com.alex.pojo.User&quot;&gt; &lt;selectKey keyProperty=&quot;id&quot; order=&quot;AFTER&quot; resultType=&quot;Integer&quot;&gt; select USER_SEQ.currval from dual &lt;/selectKey&gt; insert into tb_user (id, username,password,birthday) values (USER_SEQ.nextval, #&#123;username&#125;,#&#123;password&#125;,#&#123;birthday&#125;)&lt;/insert&gt; è¿™ä¸ªé‡Œé¢å‡ºç°çš„selectKeyä¸­ä¸»è¦çš„å±æ€§æœ‰ä¸‰ä¸ªï¼š keyPropertyï¼šç”Ÿæˆçš„ä¸»é”®å°è£…åœ¨å“ªä¸ªå±æ€§ä¸­ orderï¼šå½“orderä¸ºBEFOREæ—¶ï¼ŒselectKeyä¸­çš„SQLåœ¨æ’å…¥SQLä¹‹å‰è¿è¡Œ å½“orderä¸ºAFTERæ—¶ï¼Œå½“å‰ SQL åœ¨æ’å…¥ SQL ä¹‹åè¿è¡Œ resultTypeï¼šç”Ÿæˆä¸»é”®çš„è¿”å›ç±»å‹æ‰€ä»¥ä¸Šé¢ä¸¤ç§æ–¹å¼åœ¨æ€æƒ³ä¸Šæœ‰ç‚¹åŒºåˆ«BEFORE è¿è¡Œé¡ºåºï¼šå…ˆæ‰§è¡ŒselectKeyæ‰§è¡Œåºåˆ—æŸ¥è¯¢ä¸‹ä¸€ä¸ªidçš„SQLï¼ŒæŸ¥å‡ºidå€¼å°è£…ç»™idå±æ€§ã€‚å†è¿è¡Œæ’å…¥çš„ SQLï¼Œå°±å¯ä»¥å–å‡º id å±æ€§çš„å€¼ã€‚AFTER è¿è¡Œé¡ºåºï¼šå…ˆè¿è¡Œæ’å…¥çš„SQLï¼ˆä»åºåˆ—ä¸­å–å‡ºæ–°å€¼ä½œä¸º idï¼‰ï¼Œå†è¿è¡ŒselectKeyæŸ¥è¯¢å½“å‰åºåˆ—ä½ç½®çš„SQLï¼ŒæŸ¥å‡ºidå€¼å°è£…ç»™JavaBeançš„idå±æ€§ã€‚ å…«ã€å¦‚ä½•å®Œæˆåˆ†é¡µæŸ¥è¯¢ä¸å¤šè¯´ï¼ˆä¸»è¦ä¸çŸ¥é“è¯´å•¥äº†ï¼Œæ‡‚çš„éƒ½æ‡‚(&#x2F;Ï‰ï¼¼)ï¼‰å¦‚é¢˜ï¼Œç›´æ¥ä¸Šæ–¹æ³•ï¼š 1ã€ä½¿ç”¨åŸç”Ÿsqlä½¿ç”¨åŸç”Ÿçš„sqlæ¥è§£å†³åˆ†é¡µçš„é—®é¢˜ï¼Œæ¯”å¦‚Mysqlä½¿ç”¨limitï¼ŒOracleä¸­ä½¿ç”¨rownumæ¥å®ç°æ•°æ®çš„åˆ†é¡µæŸ¥è¯¢ï¼Œè¿™ç§æ–¹å¼éœ€è¦è€ƒè™‘æ€ä¹ˆæŠŠåˆ†é¡µçš„å‚æ•°ä¼ å…¥å³å¯ã€‚ 2ã€ä½¿ç”¨RowBoundsRowBoundsæ˜¯MyBatisæä¾›çš„é€»è¾‘åˆ†é¡µå·¥å…·ç±»ï¼ŒRowBoundsä¸­æœ‰2ä¸ªå­—æ®µoffsetå’Œlimitã€‚è¿™ç§æ–¹å¼è·å–æ‰€æœ‰çš„ResultSetï¼Œä»ResultSetä¸­çš„offsetä½ç½®å¼€å§‹è·å–limitä¸ªè®°å½•ã€‚ 1ã€æ·»åŠ Mapperæ˜ å°„æ–¹æ³•123&lt;select id=&quot;selectPage&quot; resultType=&quot;com.alex.pojo.User&quot;&gt; select * from user&lt;/select&gt; 2ã€å®šä¹‰Javaæ–¹æ³•1public List&lt;User&gt; selectPage(RowBounds rowBounds); 3ã€è°ƒç”¨æ–¹æ³•12345List&lt;User&gt; list = userMapper.selectPage(new RowBounds(3, 2));System.out.println(&quot;-----------åˆ†é¡µçš„æ•°æ®----------&quot;);for (User user : list) &#123; System.out.println(&quot;åˆ†é¡µçš„æ•°æ®&quot;+user);&#125; åœ¨ä¸Šé¢è®²åˆ°ï¼ŒRowBoundsæ˜¯ä¸€ç§ç‰©ç†åˆ†é¡µçš„æ–¹å¼ï¼Œé‚£ä¹ˆå’Œä»–ç›¸å¯¹çš„æ—¶é€»è¾‘åˆ†é¡µï¼Œä»–ä»¬çš„åŒºåˆ«æ˜¯ï¼š é€»è¾‘åˆ†é¡µæ˜¯åˆ©ç”¨æ•°æ®åº“çš„ç‰¹æ€§è¿›è¡Œåˆ†é¡µï¼Œä¾‹å¦‚åˆ©ç”¨oracleçš„rownumï¼Œmysqlçš„limitï¼Œsql serverçš„topï¼Œåˆ©ç”¨è¿™äº›å…³é”®å­—æ¯æ¬¡è¿”å›éƒ¨åˆ†æ•°æ®ï¼Œå³åˆ†é¡µçš„ç»“æœï¼Œç”±äºç‰©ç†åˆ†é¡µæ¯æ¬¡éƒ½ä¼šé‡æ–°è®¿é—®æ•°æ®åº“ï¼Œå¯ç”¨äºæ•°æ®é‡å¤§ï¼Œæ•°æ®æ›´æ–°é¢‘ç¹çš„åœºæ™¯ã€‚ ç‰©ç†åˆ†é¡µæ˜¯ä½¿ç”¨åˆ©ç”¨æ¸¸æ ‡åˆ†é¡µï¼Œå¯¹äºæ‰€æœ‰çš„æ•°æ®åº“éƒ½ç»Ÿä¸€æ“ä½œï¼Œä½¿ç”¨RowBoundså¯¹è±¡å³å¯ï¼Œä½†æ˜¯ä»–éœ€è¦æŠŠæ•°æ®å…¨éƒ¨æŸ¥åˆ°å†…å­˜ä¸­è¿›è¡Œå¤„ç†ï¼Œæ•°æ®é‡å°äº†è¿˜å¥½è¿›è¡Œå¤„ç†ï¼Œä¸€æ—¦æ•°æ®é‡å˜å¤§ï¼Œå¯¹å†…å­˜å°†ä¼šæ˜¯å¾ˆå¤§çš„å‹åŠ›ã€‚ ä¹ã€å¦‚ä½•å®ç°ä¸€å¯¹å¤šçš„æŸ¥è¯¢åã€ç¼“å­˜æœºåˆ¶åä¸€ã€Springæ•´åˆåäºŒã€Mybatisä»£ç ç”Ÿæˆ","categories":[{"name":"åˆ†ç±»6","slug":"åˆ†ç±»6","permalink":"https://it65720.top/categories/%E5%88%86%E7%B1%BB6/"}],"tags":[{"name":"æµ‹è¯•11","slug":"æµ‹è¯•11","permalink":"https://it65720.top/tags/%E6%B5%8B%E8%AF%9511/"},{"name":"æµ‹è¯•10","slug":"æµ‹è¯•10","permalink":"https://it65720.top/tags/%E6%B5%8B%E8%AF%9510/"}]},{"title":"12312312312qdasfafafasfaef","slug":"test11","date":"2022-05-17T02:55:00.000Z","updated":"2022-05-25T14:14:17.550Z","comments":true,"path":"/202205171260b55f.html","link":"","permalink":"https://it65720.top/202205171260b55f.html","excerpt":"","text":"MyBatisä½œä¸ºä¸€ä¸ªä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ï¼Œç›®å‰åœ¨æˆ‘çš„å¤§å¤šæ•°æ—¥å¸¸å­¦ä¹ å’Œå·¥ä½œä¸­è¢«ç”¨æ¥å½“ä½œæ•°æ®åº“Javaè®¿é—®æ•°æ®åº“çš„ä¸€ç§æ–¹å¼ï¼Œå°±åƒã€Šå¡å°”è¾¾ä¼ è¯´ï¼šæ—·é‡ä¹‹æ¯ã€‹ä¹‹äºNSçš„æŠ¤èˆªå¤§ä½œä¸€æ ·ï¼Œæˆ‘å¼€ç¯‡åšæ–‡å‡†å¤‡å†™ä¸€ä¸‹æˆ‘æ‰€çŸ¥çš„MyBatisï¼Œåšä¸€æ¬¡å­¦ä¹ ç¬”è®°ã€‚ğŸ˜„ ä¸€ã€MyBatisåˆä½“éªŒ1.åˆ›å»ºæµ‹è¯•æ•°æ®åº“ä¸‹é¢æ˜¯æ–‡ç« ä¸­çš„ä½¿ç”¨åˆ°çš„å»ºè¡¨è¯­å¥ï¼Œæœ¬æ–‡é‡‡ç”¨çš„æ•°æ®åº“æ˜¯Mysql 8.0.27 1234567891011DROP TABLE IF EXISTS `user`;CREATE TABLE `user` ( `id` int(11) NOT NULL AUTO_INCREMENT, `username` varchar(50) DEFAULT NULL, `password` varchar(50) DEFAULT NULL, `birthday` varchar(50) DEFAULT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;INSERT INTO `user` VALUES (&#x27;1&#x27;, &#x27;alex&#x27;, &#x27;123&#x27;, &#x27;2019-12-12&#x27;);INSERT INTO `user` VALUES (&#x27;2&#x27;, &#x27;it65720&#x27;,&#x27;123&#x27;, &#x27;2019-12-12&#x27;); 2.å¯¼å…¥ä¾èµ–æœ¬æ–‡ä½¿ç”¨Mavenè¿›è¡Œæ„å»º MavenjaråŒ…pom.xml12345678910111213 &lt;!--mybatis--&gt;&lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;3.4.5&lt;/version&gt;&lt;/dependency&gt; &lt;!--mysqlé©±åŠ¨--&gt;&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;8.0.17&lt;/version&gt; &lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;MyBatisçš„jaråŒ…ä¸‹è½½ï¼šhttps://github.com/mybatis/mybatis-3/releasesMySQLæ•°æ®åº“é©±åŠ¨ä¸‹è½½ï¼šhttps://dev.mysql.com/downloads/connector/j/ 3.åˆ›å»ºè¡¨å¯¹åº”çš„å®ä½“ç±»12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849package com.alex.pojo;public class User &#123; private Integer id; private String username; private String password; private String birthday; public Integer getId() &#123; return id; &#125; public void setId(Integer id) &#123; this.id = id; &#125; public String getUsername() &#123; return username; &#125; public void setUsername(String username) &#123; this.username = username; &#125; public String getPassword() &#123; return password; &#125; public void setPassword(String password) &#123; this.password = password; &#125; public String getBirthday() &#123; return birthday; &#125; public void setBirthday(String birthday) &#123; this.birthday = birthday; &#125; @Override public String toString() &#123; return &quot;User&#123;&quot; + &quot;id=&quot; + id + &quot;, username=&#x27;&quot; + username + &#x27;\\&#x27;&#x27; + &quot;, password=&#x27;&quot; + password + &#x27;\\&#x27;&#x27; + &quot;, birthday=&#x27;&quot; + birthday + &#x27;\\&#x27;&#x27; + &#x27;&#125;&#x27;; &#125;&#125; 4.åˆ›å»ºmybatis-config.xmlä¸»é…ç½®æ–‡ä»¶å’Œæ•°æ®åº“é…ç½®æ–‡ä»¶mybatis-config.xml123456789101112131415161718192021222324252627&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;&lt;configuration&gt; &lt;!-- å¼•å…¥å¤–éƒ¨èµ„æºæ–‡ä»¶--&gt; &lt;properties resource=&quot;jdbc.properties&quot;/&gt; &lt;!-- é…ç½®æ•°æ®æºç¯å¢ƒ --&gt; &lt;environments default=&quot;development&quot;&gt; &lt;environment id=&quot;development&quot;&gt; &lt;!-- æ•°æ®åº“äº‹åŠ¡ç®¡ç†ç±»å‹ --&gt; &lt;transactionManager type=&quot;JDBC&quot;/&gt; &lt;!-- æ•°æ®æºï¼Œtype=pooled è¯´æ˜æ˜¯ä½¿ç”¨è¿æ¥æ± æ–¹å¼ï¼Œå¯ä»¥èŠ‚çœèµ„æº --&gt; &lt;dataSource type=&quot;POOLED&quot;&gt; &lt;!-- è°ƒç”¨èµ„æºæ–‡ä»¶é‡Œçš„ç”¨æˆ·ä¿¡æ¯--&gt; &lt;property name=&quot;driver&quot; value=&quot;$&#123;jdbc.driver&#125;&quot;/&gt; &lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/&gt; &lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;/&gt; &lt;/dataSource&gt; &lt;/environment&gt; &lt;/environments&gt; &lt;!-- åŠ è½½æ˜ å°„æ–‡ä»¶ --&gt; &lt;mappers&gt; &lt;mapper resource=&quot;UserMapper.xml&quot;&gt;&lt;/mapper&gt; &lt;/mappers&gt;&lt;/configuration&gt; jdbc.properties1234jdbc.driver=com.mysql.cj.jdbc.Driverjdbc.url=jdbc:mysql://192.168.56.103:3306/mybatis?useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false&amp;serverTimezone=Asia/Shanghaijdbc.username=rootjdbc.password=root 5.åˆ›å»ºXMLæ˜ å°„æ–‡ä»¶UserMapper.xml1234567891011&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&lt;mapper namespace=&quot;User&quot;&gt; &lt;!--æŸ¥è¯¢ç”¨æˆ·--&gt; &lt;select id=&quot;findAll&quot; resultType=&quot;com.alex.pojo.User&quot;&gt; select * from user &lt;/select&gt;&lt;/mapper&gt; 6.ç¼–å†™mainæ–¹æ³•è¿›è¡Œæµ‹è¯•12345678910public static void main(String[] args) throws IOException &#123; String resource = &quot;mybatis-config.xml&quot;; InputStream inputStream = Resources.getResourceAsStream(resource); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream); SqlSession sqlSession = sqlSessionFactory.openSession(); List&lt;User&gt; list = sqlSession.selectList(&quot;User.findAll&quot;); for (User user : list) &#123; System.out.println(user); &#125;&#125; demoç›®å½•ç»“æ„ demoè¿è¡Œç»“æœ ä¸Šé¢çš„demoè¿è¡Œç»“æŸåï¼ŒMyBatiså°†è¿”å›çš„ç»“æœé›†è‡ªåŠ¨è½¬æ¢æˆå¯¹åº”çš„å®ä½“ç±»ï¼Œæˆ‘ç†è§£çš„è¿™ä¸ªå°±æ˜¯ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰ï¼Œä½†æ˜¯ä¸Šé¢çš„æ“ä½œåªæ˜¯ä¸€ä¸ªè¿›è¡Œç®€å•çš„MyBatisçš„é…ç½®çš„å°ä¾‹å­ï¼Œè·ç¦»çœŸæ­£çš„å®è·µè¿˜å·®å¾ˆå¤šï¼Œä¸‹é¢å…ˆæ¥åˆ†æé‡è¦çš„é…ç½®æ–‡ä»¶ä¹‹ä¸€ï¼Œåœ¨æµ‹è¯•ä»£ç æ®µé‡Œé¢åŠ è½½çš„æ–‡ä»¶mybatis-config.xmlã€‚ äºŒã€MyBatisçš„ä¸»é…ç½®æ–‡ä»¶MyBatisçš„é…ç½®æ–‡ä»¶åŒ…å«äº†ä¼šå½±å“ MyBatis è¡Œä¸ºçš„è®¾ç½®å’Œå±æ€§ä¿¡æ¯ã€‚ é…ç½®æ–‡æ¡£çš„é¡¶å±‚ç»“æ„å¦‚ä¸‹ï¼š properties settings typeAliases typeHandlers objectFactory plugins environments environment transactionManager dataSource databaseIdProvider mappers MyBatisä¸­çš„é…ç½®ï¼Œä¸ä½†æœ‰ç±»å‹é™åˆ¶ï¼Œè¿˜æœ‰é¡ºåºé™åˆ¶ï¼Œå¿…é¡»æŒ‰ç…§ä¸Šé¢æ ‘çŠ¶ç»“æ„çš„é¡ºåºè¿›è¡Œé…ç½®ã€‚ 1.propertiesï¼ˆå±æ€§ï¼‰æ ‡ç­¾ä¸­çš„æ•°æ®å¯ä»¥åœ¨é…ç½®æ–‡ä»¶å…¶ä»–åœ°æ–¹è¿›è¡Œä½¿ç”¨ï¼Œä½¿ç”¨${}å¯ä»¥è·å–å¯¹åº”çš„å€¼ï¼Œæœ‰ä¸¤ç§é…ç½®çš„æ–¹å¼ç¬¬ä¸€ç§å°±æ˜¯åœ¨ä¸Šé¢ä½¿ç”¨å¤–éƒ¨propertiesæ–‡ä»¶è¿›è¡Œæä¾›æ•°æ®ï¼Œç¬¬äºŒç§å°±æ˜¯åœ¨propertiesä¸­æ·»åŠ propertyå­æ ‡ç­¾è¿›è¡Œé…ç½®ã€‚ 123456789&lt;!-- å¼•å…¥å¤–éƒ¨èµ„æºæ–‡ä»¶--&gt;&lt;!--&lt;properties resource=&quot;jdbc.properties&quot;/&gt;--&gt;&lt;properties&gt; &lt;!-- propertyé‡Œé¢çš„å±æ€§å…¨å±€å‡å¯ä½¿ç”¨ --&gt; &lt;property name=&quot;jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt; &lt;property name=&quot;jdbc.url&quot; value=&quot;jdbc:mysql://192.168.56.103:3306/mybatis&quot;/&gt; &lt;property name=&quot;jdbc.username&quot; value=&quot;root&quot;/&gt; &lt;property name=&quot;jdbc.password&quot; value=&quot;root&quot;/&gt;&lt;/properties&gt; 2.settingsï¼ˆè®¾ç½®ï¼‰settingsé…ç½®å½±å“MyBatiisæ¡†æ¶åœ¨è¿è¡Œæ—¶çš„ä¸€äº›è¡Œä¸ºã€‚settingsé…ç½®ç¼“å­˜ã€å»¶è¿ŸåŠ è½½ã€ç»“æœé›†æ§åˆ¶ã€æ‰§è¡Œå™¨ã€åˆ†é¡µè®¾ç½®ã€å‘½åè§„åˆ™ç­‰ä¸€ç³»åˆ—æ§åˆ¶æ€§å‚æ•°ã€‚æ‰€æœ‰çš„settingé…ç½®éƒ½è¢«åŒ…è£¹åœ¨settingsæ ‡ç­¾å¯¹ä¸­ã€‚ è®¾ç½®å æè¿° æœ‰æ•ˆå€¼ é»˜è®¤å€¼ cacheEnabled å…¨å±€æ€§åœ°å¼€å¯æˆ–å…³é—­æ‰€æœ‰æ˜ å°„å™¨é…ç½®æ–‡ä»¶ä¸­å·²é…ç½®çš„ä»»ä½•ç¼“å­˜ã€‚ true&#x2F;false true lazyLoadingEnabled å»¶è¿ŸåŠ è½½çš„å…¨å±€å¼€å…³ã€‚å½“å¼€å¯æ—¶ï¼Œæ‰€æœ‰å…³è”å¯¹è±¡éƒ½ä¼šå»¶è¿ŸåŠ è½½ã€‚ç‰¹å®šå…³è”å…³ç³»ä¸­å¯é€šè¿‡è®¾ç½® fetchType å±æ€§æ¥è¦†ç›–è¯¥é¡¹çš„å¼€å…³çŠ¶æ€ã€‚ true&#x2F;false false aggressiveLazyLoading å¼€å¯æ—¶ï¼Œä»»ä¸€æ–¹æ³•çš„è°ƒç”¨éƒ½ä¼šåŠ è½½è¯¥å¯¹è±¡çš„æ‰€æœ‰å»¶è¿ŸåŠ è½½å±æ€§ã€‚ å¦åˆ™ï¼Œæ¯ä¸ªå»¶è¿ŸåŠ è½½å±æ€§ä¼šæŒ‰éœ€åŠ è½½ï¼ˆå‚è€ƒ lazyLoadTriggerMethods)ã€‚ true&#x2F;false false multipleResultSetsEnabled æ˜¯å¦å…è®¸å•ä¸ªè¯­å¥è¿”å›å¤šç»“æœé›†ï¼ˆéœ€è¦æ•°æ®åº“é©±åŠ¨æ”¯æŒï¼‰ã€‚ true&#x2F;false true useColumnLabel ä½¿ç”¨åˆ—æ ‡ç­¾ä»£æ›¿åˆ—åã€‚å®é™…è¡¨ç°ä¾èµ–äºæ•°æ®åº“é©±åŠ¨ï¼Œå…·ä½“å¯å‚è€ƒæ•°æ®åº“é©±åŠ¨çš„ç›¸å…³æ–‡æ¡£ï¼Œæˆ–é€šè¿‡å¯¹æ¯”æµ‹è¯•æ¥è§‚å¯Ÿã€‚ true&#x2F;false true useGeneratedKeys å…è®¸ JDBC æ”¯æŒè‡ªåŠ¨ç”Ÿæˆä¸»é”®ï¼Œéœ€è¦æ•°æ®åº“é©±åŠ¨æ”¯æŒã€‚å¦‚æœè®¾ç½®ä¸º trueï¼Œå°†å¼ºåˆ¶ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆä¸»é”®ã€‚å°½ç®¡ä¸€äº›æ•°æ®åº“é©±åŠ¨ä¸æ”¯æŒæ­¤ç‰¹æ€§ï¼Œä½†ä»å¯æ­£å¸¸å·¥ä½œï¼ˆå¦‚ Derbyï¼‰ true&#x2F;false False autoMappingBehavior æŒ‡å®š MyBatis åº”å¦‚ä½•è‡ªåŠ¨æ˜ å°„åˆ—åˆ°å­—æ®µæˆ–å±æ€§ã€‚ NONE è¡¨ç¤ºå…³é—­è‡ªåŠ¨æ˜ å°„ï¼›PARTIAL åªä¼šè‡ªåŠ¨æ˜ å°„æ²¡æœ‰å®šä¹‰åµŒå¥—ç»“æœæ˜ å°„çš„å­—æ®µã€‚ FULL ä¼šè‡ªåŠ¨æ˜ å°„ä»»ä½•å¤æ‚çš„ç»“æœé›†ï¼ˆæ— è®ºæ˜¯å¦åµŒå¥—ï¼‰ã€‚ NONEPARTIALFULL PARTIAL autoMappingUnknownColumnBehavior æŒ‡å®šå‘ç°è‡ªåŠ¨æ˜ å°„ç›®æ ‡æœªçŸ¥åˆ—ï¼ˆæˆ–æœªçŸ¥å±æ€§ç±»å‹ï¼‰çš„è¡Œä¸ºã€‚NONE: ä¸åšä»»ä½•ååº”WARNING: è¾“å‡ºè­¦å‘Šæ—¥å¿—ï¼ˆâ€™org.apache.ibatis.session.AutoMappingUnknownColumnBehaviorâ€™ çš„æ—¥å¿—ç­‰çº§å¿…é¡»è®¾ç½®ä¸º WARNï¼‰FAILING: æ˜ å°„å¤±è´¥ (æŠ›å‡º SqlSessionException) NONEWARNINGFAILING NONE defaultExecutorType é…ç½®é»˜è®¤çš„æ‰§è¡Œå™¨ã€‚SIMPLE å°±æ˜¯æ™®é€šçš„æ‰§è¡Œå™¨ï¼›REUSE æ‰§è¡Œå™¨ä¼šé‡ç”¨é¢„å¤„ç†è¯­å¥ï¼ˆPreparedStatementï¼‰ï¼› BATCH æ‰§è¡Œå™¨ä¸ä»…é‡ç”¨è¯­å¥è¿˜ä¼šæ‰§è¡Œæ‰¹é‡æ›´æ–°ã€‚ SIMPLEREUSEBATCH SIMPLE defaultStatementTimeout è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå®ƒå†³å®šæ•°æ®åº“é©±åŠ¨ç­‰å¾…æ•°æ®åº“å“åº”çš„ç§’æ•°ã€‚ ä»»æ„æ­£æ•´æ•° æœªè®¾ç½® (null) defaultFetchSize ä¸ºé©±åŠ¨çš„ç»“æœé›†è·å–æ•°é‡ï¼ˆfetchSizeï¼‰è®¾ç½®ä¸€ä¸ªå»ºè®®å€¼ã€‚æ­¤å‚æ•°åªå¯ä»¥åœ¨æŸ¥è¯¢è®¾ç½®ä¸­è¢«è¦†ç›–ã€‚ ä»»æ„æ­£æ•´æ•° æœªè®¾ç½® (null) defaultResultSetType æŒ‡å®šè¯­å¥é»˜è®¤çš„æ»šåŠ¨ç­–ç•¥ã€‚ï¼ˆæ–°å¢äº 3.5.2ï¼‰ FORWARD_ONLYSCROLL_SENSITIVESCROLL_INSENSITIVEDEFAULTï¼ˆç­‰åŒäºæœªè®¾ç½®ï¼‰ æœªè®¾ç½® (null) safeRowBoundsEnabled æ˜¯å¦å…è®¸åœ¨åµŒå¥—è¯­å¥ä¸­ä½¿ç”¨åˆ†é¡µï¼ˆRowBoundsï¼‰ã€‚å¦‚æœå…è®¸ä½¿ç”¨åˆ™è®¾ç½®ä¸º falseã€‚ true&#x2F;false False safeResultHandlerEnabled æ˜¯å¦å…è®¸åœ¨åµŒå¥—è¯­å¥ä¸­ä½¿ç”¨ç»“æœå¤„ç†å™¨ï¼ˆResultHandlerï¼‰ã€‚å¦‚æœå…è®¸ä½¿ç”¨åˆ™è®¾ç½®ä¸º falseã€‚ true&#x2F;false True mapUnderscoreToCamelCase æ˜¯å¦å¼€å¯é©¼å³°å‘½åè‡ªåŠ¨æ˜ å°„ï¼Œå³ä»ç»å…¸æ•°æ®åº“åˆ—å A_COLUMN æ˜ å°„åˆ°ç»å…¸ Java å±æ€§å aColumnã€‚ true&#x2F;false False localCacheScope MyBatis åˆ©ç”¨æœ¬åœ°ç¼“å­˜æœºåˆ¶ï¼ˆLocal Cacheï¼‰é˜²æ­¢å¾ªç¯å¼•ç”¨å’ŒåŠ é€Ÿé‡å¤çš„åµŒå¥—æŸ¥è¯¢ã€‚ é»˜è®¤å€¼ä¸º SESSIONï¼Œä¼šç¼“å­˜ä¸€ä¸ªä¼šè¯ä¸­æ‰§è¡Œçš„æ‰€æœ‰æŸ¥è¯¢ã€‚ è‹¥è®¾ç½®å€¼ä¸º STATEMENTï¼Œæœ¬åœ°ç¼“å­˜å°†ä»…ç”¨äºæ‰§è¡Œè¯­å¥ï¼Œå¯¹ç›¸åŒ SqlSession çš„ä¸åŒæŸ¥è¯¢å°†ä¸ä¼šè¿›è¡Œç¼“å­˜ã€‚ SESSIONSTATEMENT SESSION jdbcTypeForNull å½“æ²¡æœ‰ä¸ºå‚æ•°æŒ‡å®šç‰¹å®šçš„ JDBC ç±»å‹æ—¶ï¼Œç©ºå€¼çš„é»˜è®¤ JDBC ç±»å‹ã€‚ æŸäº›æ•°æ®åº“é©±åŠ¨éœ€è¦æŒ‡å®šåˆ—çš„ JDBC ç±»å‹ï¼Œå¤šæ•°æƒ…å†µç›´æ¥ç”¨ä¸€èˆ¬ç±»å‹å³å¯ï¼Œæ¯”å¦‚ NULLã€VARCHAR æˆ– OTHERã€‚ JdbcType å¸¸é‡ï¼Œå¸¸ç”¨å€¼ï¼šNULLã€VARCHAR æˆ– OTHERã€‚ OTHER lazyLoadTriggerMethods æŒ‡å®šå¯¹è±¡çš„å“ªäº›æ–¹æ³•è§¦å‘ä¸€æ¬¡å»¶è¿ŸåŠ è½½ã€‚ ç”¨é€—å·åˆ†éš”çš„æ–¹æ³•åˆ—è¡¨ã€‚ equals,clone,hashCode,toString defaultScriptingLanguage æŒ‡å®šåŠ¨æ€ SQL ç”Ÿæˆä½¿ç”¨çš„é»˜è®¤è„šæœ¬è¯­è¨€ã€‚ ä¸€ä¸ªç±»å‹åˆ«åæˆ–å…¨é™å®šç±»åã€‚ org.apache.ibatis.scripting.xmltags.XMLLanguageDriver defaultEnumTypeHandler æŒ‡å®š Enum ä½¿ç”¨çš„é»˜è®¤ TypeHandler ã€‚ï¼ˆæ–°å¢äº 3.4.5ï¼‰ ä¸€ä¸ªç±»å‹åˆ«åæˆ–å…¨é™å®šç±»åã€‚ org.apache.ibatis.type.EnumTypeHandler callSettersOnNulls æŒ‡å®šå½“ç»“æœé›†ä¸­å€¼ä¸º null çš„æ—¶å€™æ˜¯å¦è°ƒç”¨æ˜ å°„å¯¹è±¡çš„ setterï¼ˆmap å¯¹è±¡æ—¶ä¸º putï¼‰æ–¹æ³•ï¼Œè¿™åœ¨ä¾èµ–äº Map.keySet() æˆ– null å€¼è¿›è¡Œåˆå§‹åŒ–æ—¶æ¯”è¾ƒæœ‰ç”¨ã€‚æ³¨æ„åŸºæœ¬ç±»å‹ï¼ˆintã€boolean ç­‰ï¼‰æ˜¯ä¸èƒ½è®¾ç½®æˆ null çš„ã€‚ true&#x2F;false false returnInstanceForEmptyRow å½“è¿”å›è¡Œçš„æ‰€æœ‰åˆ—éƒ½æ˜¯ç©ºæ—¶ï¼ŒMyBatisé»˜è®¤è¿”å› nullã€‚ å½“å¼€å¯è¿™ä¸ªè®¾ç½®æ—¶ï¼ŒMyBatisä¼šè¿”å›ä¸€ä¸ªç©ºå®ä¾‹ã€‚ è¯·æ³¨æ„ï¼Œå®ƒä¹Ÿé€‚ç”¨äºåµŒå¥—çš„ç»“æœé›†ï¼ˆå¦‚é›†åˆæˆ–å…³è”ï¼‰ã€‚ï¼ˆæ–°å¢äº 3.4.2ï¼‰ true&#x2F;false false logPrefix æŒ‡å®š MyBatis å¢åŠ åˆ°æ—¥å¿—åç§°çš„å‰ç¼€ã€‚ ä»»ä½•å­—ç¬¦ä¸² æœªè®¾ç½® logImpl æŒ‡å®š MyBatis æ‰€ç”¨æ—¥å¿—çš„å…·ä½“å®ç°ï¼ŒæœªæŒ‡å®šæ—¶å°†è‡ªåŠ¨æŸ¥æ‰¾ã€‚ SLF4JLOG4J(deprecated since 3.5.9)LOG4J2&#x2F;DK_LOGGINGCOMMONS_LOGGING STDOUT_LOGGINGNO_LOGGING æœªè®¾ç½® proxyFactory æŒ‡å®š Mybatis åˆ›å»ºå¯å»¶è¿ŸåŠ è½½å¯¹è±¡æ‰€ç”¨åˆ°çš„ä»£ç†å·¥å…·ã€‚ CGLIB&#x2F; JAVASSIST JAVASSIST ï¼ˆMyBatis 3.3 ä»¥ä¸Šï¼‰ vfsImpl æŒ‡å®š VFS çš„å®ç° è‡ªå®šä¹‰ VFS çš„å®ç°çš„ç±»å…¨é™å®šåï¼Œä»¥é€—å·åˆ†éš”ã€‚ æœªè®¾ç½® useActualParamName å…è®¸ä½¿ç”¨æ–¹æ³•ç­¾åä¸­çš„åç§°ä½œä¸ºè¯­å¥å‚æ•°åç§°ã€‚ä¸ºäº†ä½¿ç”¨è¯¥ç‰¹æ€§ï¼Œä½ çš„é¡¹ç›®å¿…é¡»é‡‡ç”¨ Java 8 ç¼–è¯‘ï¼Œå¹¶ä¸”åŠ ä¸Š -parameters é€‰é¡¹ã€‚ï¼ˆæ–°å¢äº 3.4.1ï¼‰ true&#x2F;false true configurationFactory æŒ‡å®šä¸€ä¸ªæä¾› Configuration å®ä¾‹çš„ç±»ã€‚ è¿™ä¸ªè¢«è¿”å›çš„ Configuration å®ä¾‹ç”¨æ¥åŠ è½½è¢«ååºåˆ—åŒ–å¯¹è±¡çš„å»¶è¿ŸåŠ è½½å±æ€§å€¼ã€‚ è¿™ä¸ªç±»å¿…é¡»åŒ…å«ä¸€ä¸ªç­¾åä¸ºstatic Configuration getConfiguration() çš„æ–¹æ³•ã€‚ï¼ˆæ–°å¢äº 3.2.3ï¼‰ ä¸€ä¸ªç±»å‹åˆ«åæˆ–å®Œå…¨é™å®šç±»åã€‚ æœªè®¾ç½® settings çš„é…ç½®é¡¹å¾ˆå¤šï¼Œä½†æ˜¯çœŸæ­£ç”¨åˆ°çš„ä¸ä¼šå¤ªå¤šï¼Œå¾ˆå¤šéƒ½ä¿æŒäº†é»˜è®¤ï¼ŒæŠŠå¸¸ç”¨çš„é…ç½®é¡¹ç ”ç©¶æ¸…æ¥šå°±å¯ä»¥äº†ï¼Œæ¯”å¦‚å…³äºç¼“å­˜çš„ cacheEnabledï¼Œå…³äºçº§è”çš„ lazyLoadingEnabled å’Œ aggressiveLazy Loadingï¼Œå…³äºè‡ªåŠ¨æ˜ å°„çš„ autoMappingBehavior å’Œ mapUnderscoreToCamelCaseï¼Œå…³äºæ‰§è¡Œå™¨ç±»å‹çš„ defaultExecutorType ç­‰,æœ¬æ–‡æš‚æ—¶å…ˆè®²ä¸€ä¸‹åŸºæœ¬çš„é…ç½®ï¼Œåé¢æƒ³å¼€ç¯‡æ·±å…¥ç ”ç©¶ä¸€ä¸‹Mybatisçš„ç¼“å­˜æœºåˆ¶å’Œçº§è”çš„å»¶è¿ŸåŠ è½½ã€‚ è¿™æ˜¯ä¸€ä»½æ¯”è¾ƒå®Œæ•´çš„é…ç½®1234567891011121314151617&lt;settings&gt; &lt;setting name=&quot;cacheEnabled&quot; value=&quot;true&quot;/&gt; &lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot;/&gt; &lt;setting name=&quot;multipleResultSetsEnabled&quot; value=&quot;true&quot;/&gt; &lt;setting name=&quot;useColumnLabel&quot; value=&quot;true&quot;/&gt; &lt;setting name=&quot;useGeneratedKeys&quot; value=&quot;false&quot;/&gt; &lt;setting name=&quot;autoMappingBehavior&quot; value=&quot;PARTIAL&quot;/&gt; &lt;setting name=&quot;autoMappingUnknownColumnBehavior&quot; value=&quot;WARNING&quot;/&gt; &lt;setting name=&quot;defaultExecutorType&quot; value=&quot;SIMPLE&quot;/&gt; &lt;setting name=&quot;defaultStatementTimeout&quot; value=&quot;25&quot;/&gt; &lt;setting name=&quot;defaultFetchSize&quot; value=&quot;100&quot;/&gt; &lt;setting name=&quot;safeRowBoundsEnabled&quot; value=&quot;false&quot;/&gt; &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;false&quot;/&gt; &lt;setting name=&quot;localCacheScope&quot; value=&quot;SESSION&quot;/&gt; &lt;setting name=&quot;jdbcTypeForNull&quot; value=&quot;OTHER&quot;/&gt; &lt;setting name=&quot;lazyLoadTriggerMethods&quot; value=&quot;equals,clone,hashCode,toString&quot;/&gt;&lt;/settings&gt; 3.typeAliasesï¼ˆç±»å‹åˆ«åï¼‰åœ¨ä¸Šé¢demoä¸­çš„çš„UserMapper.xmlä¸­é…ç½®çš„resultTypeä¸ºå®ä½“ç±»çš„å…¨ç±»åï¼Œä½†æ˜¯åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å¯ä»¥é€‰æ‹©åˆ«åçš„æ–¹å¼ä»£æ›¿ä»£ç ä¸­çš„å…¨ç±»å‹åˆ«ååœ¨XMLä¸­çš„é…ç½®ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ å¯¹å•ä¸ªç±»è¿›è¡Œèµ·åˆ«åå¯¹æ•´ä¸ªåŒ…è¿›è¡Œèµ·åˆ«å123&lt;typeAliases&gt; &lt;typeAlias type=&quot;com.alex.pojo.User&quot; alias=&quot;UsEr&quot;&gt;&lt;/typeAlias&gt;&lt;/typeAliases&gt; æ˜ å°„æ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œå¯ä»¥å¿½ç•¥å¤§å°å†™ Mapper.xml12345&lt;!--æŸ¥è¯¢ç”¨æˆ·--&gt;&lt;select id=&quot;findAll&quot; resultType=&quot;UsER&quot;&gt; select * from user&lt;/select&gt;123&lt;typeAliases&gt; &lt;package name=&quot;com.alex.pojo&quot;&gt;&lt;/package&gt;&lt;/typeAliases&gt; æ˜ å°„æ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œå®šä¹‰åˆ«åçš„è§„åˆ™å°±æ˜¯å¯¹åº”åŒ…è£…ç±»çš„ç±»åï¼Œå¯ä»¥å¿½ç•¥å¤§å°å†™ Mapper.xml123&lt;select id=&quot;findAll&quot; resultType=&quot;user&quot;&gt; select * from user&lt;/select&gt; MyBatiså·²ç»ä¸ºJavaçš„å¸¸è§ç±»å‹é»˜è®¤æŒ‡å®šäº†åˆ«åï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œæœ‰ä¸€äº›åŸºæœ¬æ•°æ®ç±»å‹å’ŒåŒ…è£…ç±»æ•°æ®ç±»å‹çš„åç§°ä¸€æ ·ï¼ˆé™¤äº†åŒ…è£…ç±»ä¸­é¦–å­—æ¯å¤§å†™çš„ç±»ï¼‰ï¼Œæ•…åœ¨åŸºæœ¬æ•°æ®ç±»å‹çš„å‰é¢åŠ ä¸Šä¸‹åˆ’çº¿â€œ_â€ä½œä¸ºåŒºåˆ†ã€‚ MyBatisä¸­å¸¸è§ç±»å‹åˆ«åï¼š åˆ«å æ˜ å°„çš„ç±»å‹ _byte byte _long long _short short _int int _integer int _double double _float float _boolean boolean string String byte Byte long Long short Short int Integer integer Integer double Double float Float boolean Boolean date Date decimal BigDecimal bigdecimal BigDecimal object Object map Map hashmap HashMap list List arraylist ArrayList collection Collection iterator Iterator 4.typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰åœ¨MyBatisçš„æ˜ å°„é…ç½®æ–‡ä»¶ä¸­ï¼Œåœ¨ä½¿ç”¨SQLå¾€æ•°æ®åº“è¾“å…¥æ•°æ®çš„æ—¶å€™æœ€ç»ˆè¦ä»Javaç±»å‹è½¬æ¢æˆæ•°æ®åº“èƒ½è¯†åˆ«çš„ç±»å‹ï¼Œè€ŒSQLä»æ•°æ®åº“çš„æŸ¥è¯¢ç»“æœé›†ä¸­è·å–çš„æ•°æ®ï¼Œä¹Ÿè¦ä»æ•°æ®åº“çš„æ•°æ®ç±»å‹è½¬æ¢ä¸ºå¯¹åº”çš„Javaç±»å‹ã€‚åœ¨MyBatisä¸­ï¼Œä½¿ç”¨ç±»å‹å¤„ç†å™¨ï¼ˆTypeHandlerï¼‰å°†ä»æ•°æ®åº“è·å–çš„å€¼ä»¥åˆé€‚çš„æ–¹å¼è½¬æ¢ä¸ºJavaç±»å‹ï¼Œæˆ–è€…å°†Javaç±»å‹çš„å‚æ•°è½¬æ¢ä¸ºæ•°æ®åº“å¯¹åº”çš„ç±»å‹ã€‚åœ¨MyBatisä¸­å·²ç»æœ‰è®¸å¤šè‡ªå¸¦çš„ç±»å‹å¤„ç†å™¨ï¼Œä½†æœ‰æ—¶å€™ä¹Ÿä¼šæ»¡è¶³ä¸äº†å¼€å‘çš„éœ€æ±‚ï¼Œè¿™æ—¶å€™å°±éœ€è¦é…ç½®è‡ªå·±çš„ç±»å‹å¤„ç†å™¨äº†ï¼ŒtypeHandlersæ ‡ç­¾å°±æ˜¯ç”¨æ¥å£°æ˜è‡ªå·±çš„ç±»å‹å¤„ç†å™¨çš„ã€‚ MyBatisæä¾›é»˜è®¤çš„ç±»å‹å¤„ç†å™¨ï¼š ç±»å‹å¤„ç†å™¨ Java ç±»å‹ JDBC ç±»å‹ BooleanTypeHandler java.lang.Boolean, boolean æ•°æ®åº“å…¼å®¹çš„ BOOLEAN ByteTypeHandler java.lang.Byte, byte æ•°æ®åº“å…¼å®¹çš„ NUMERIC æˆ– BYTE ShortTypeHandler java.lang.Short, short æ•°æ®åº“å…¼å®¹çš„ NUMERIC æˆ– SMALLINT IntegerTypeHandler java.lang.Integer, int æ•°æ®åº“å…¼å®¹çš„ NUMERIC æˆ– INTEGER LongTypeHandler java.lang.Long, long æ•°æ®åº“å…¼å®¹çš„ NUMERIC æˆ– BIGINT FloatTypeHandler java.lang.Float, float æ•°æ®åº“å…¼å®¹çš„ NUMERIC æˆ– FLOAT DoubleTypeHandler java.lang.Double, double æ•°æ®åº“å…¼å®¹çš„ NUMERIC æˆ– DOUBLE BigDecimalTypeHandler java.math.BigDecimal æ•°æ®åº“å…¼å®¹çš„ NUMERIC æˆ– DECIMAL StringTypeHandler java.lang.String CHAR, VARCHAR ClobReaderTypeHandler java.io.Reader - ClobTypeHandler java.lang.String CLOB, LONGVARCHAR NStringTypeHandler java.lang.String NVARCHAR, NCHAR NClobTypeHandler java.lang.String NCLOB BlobInputStreamTypeHandler java.io.InputStream - ByteArrayTypeHandler byte[] æ•°æ®åº“å…¼å®¹çš„å­—èŠ‚æµç±»å‹ BlobTypeHandler byte[] BLOB, LONGVARBINARY DateTypeHandler java.util.Date TIMESTAMP DateOnlyTypeHandler java.util.Date DATE TimeOnlyTypeHandler java.util.Date TIME SqlTimestampTypeHandler java.sql.Timestamp TIMESTAMP SqlDateTypeHandler java.sql.Date DATE SqlTimeTypeHandler java.sql.Time TIME ObjectTypeHandler Any OTHER æˆ–æœªæŒ‡å®šç±»å‹ EnumTypeHandler Enumeration Type VARCHAR æˆ–ä»»ä½•å…¼å®¹çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œç”¨æ¥å­˜å‚¨æšä¸¾çš„åç§°ï¼ˆè€Œä¸æ˜¯ç´¢å¼•åºæ•°å€¼ï¼‰ EnumOrdinalTypeHandler Enumeration Type ä»»ä½•å…¼å®¹çš„ NUMERIC æˆ– DOUBLE ç±»å‹ï¼Œç”¨æ¥å­˜å‚¨æšä¸¾çš„åºæ•°å€¼ï¼ˆè€Œä¸æ˜¯åç§°ï¼‰ã€‚ SqlxmlTypeHandler java.lang.String SQLXML InstantTypeHandler java.time.Instant TIMESTAMP LocalDateTimeTypeHandler java.time.LocalDateTime TIMESTAMP LocalDateTypeHandler java.time.LocalDate DATE LocalTimeTypeHandler java.time.LocalTime TIME OffsetDateTimeTypeHandler java.time.OffsetDateTime TIMESTAMP OffsetTimeTypeHandler java.time.OffsetTime TIME ZonedDateTimeTypeHandler java.time.ZonedDateTime TIMESTAMP YearTypeHandler java.time.Year INTEGER MonthTypeHandler java.time.Month INTEGER YearMonthTypeHandler java.time.YearMonth VARCHAR æˆ– LONGVARCHAR JapaneseDateTypeHandler java.time.chrono.JapaneseDate DATE 5ã€å¯¹è±¡å·¥å‚ï¼ˆobjectFactoryï¼‰æ¯æ¬¡MyBatisåˆ›å»ºç»“æœå¯¹è±¡çš„æ–°å®ä¾‹æ—¶ï¼Œå®ƒéƒ½ä¼šä½¿ç”¨ä¸€ä¸ªå¯¹è±¡å·¥å‚ï¼ˆObjectFactoryï¼‰å®ä¾‹æ¥å®Œæˆå®ä¾‹åŒ–å·¥ä½œã€‚ é»˜è®¤çš„å¯¹è±¡å·¥å‚éœ€è¦åšçš„ä»…ä»…æ˜¯å®ä¾‹åŒ–ç›®æ ‡ç±»ï¼Œè¦ä¹ˆé€šè¿‡é»˜è®¤æ— å‚æ„é€ æ–¹æ³•ï¼Œè¦ä¹ˆé€šè¿‡å­˜åœ¨çš„å‚æ•°æ˜ å°„æ¥è°ƒç”¨å¸¦æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•ã€‚ å¦‚æœæƒ³è¦†ç›–å¯¹è±¡å·¥å‚çš„é»˜è®¤è¡Œä¸ºï¼Œå¯ä»¥é€šè¿‡åˆ›å»ºè‡ªå·±çš„å¯¹è±¡å·¥å‚æ¥å®ç°ã€‚ 6ã€æ’ä»¶ï¼ˆpluginsï¼‰æ’ä»¶å¯ä»¥åœ¨æ˜ å°„è¯­å¥æ‰§è¡Œè¿‡ç¨‹ä¸­çš„æŸä¸€ç‚¹è¿›è¡Œæ‹¦æˆªè°ƒç”¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é‡å†™æ–¹æ³•å¯¹æ‰§è¡Œè¿‡ç¨‹è¿›è¡Œä¿®æ”¹ï¼Œå¯ä»¥ç”¨ä½œæ—¥å¿—è®°å½•ã€æƒé™æ§åˆ¶ã€ç¼“å­˜æ§åˆ¶ç­‰ã€‚ MyBatisä¸­çš„æ’ä»¶ä¸€å®šè¦æ…ç”¨ï¼Œå¦‚æœä½¿ç”¨ä¸å½“å›å¯¹è¿”å›ç»“æœä»¥åŠæ‰§è¡Œè¿‡ç¨‹äº§ç”Ÿå½±å“ï¼Œæœ‰å¯èƒ½ä¼šå½±å“MyBatisçš„æ ¸å¿ƒåŠŸèƒ½ 7ã€ç¯å¢ƒé…ç½®ï¼ˆenvironmentsï¼‰MyBatiså¯ä»¥é…ç½®æˆé€‚åº”å¤šç§ç¯å¢ƒï¼Œè¿™ç§æœºåˆ¶æœ‰åŠ©äºå°† SQL æ˜ å°„åº”ç”¨äºå¤šç§æ•°æ®åº“ä¹‹ä¸­ï¼Œ ç°å®æƒ…å†µä¸‹æœ‰å¤šç§ç†ç”±éœ€è¦è¿™ä¹ˆåšã€‚ è¿™é‡Œè¦æ³¨æ„çš„æ˜¯å°½ç®¡å¯ä»¥é…ç½®å¤šä¸ªç¯å¢ƒï¼Œæ¯ä¸ª SqlSessionFactory å®ä¾‹åªèƒ½é€‰æ‹©å…¶ä¸€ã€‚ä¹Ÿå°±æ˜¯å¦‚æœä½ æƒ³è¿æ¥ä¸¤ä¸ªæ•°æ®åº“ï¼Œå°±éœ€è¦åˆ›å»ºä¸¤ä¸ª SqlSessionFactory å®ä¾‹ï¼Œæ¯ä¸ªæ•°æ®åº“å¯¹åº”ä¸€ä¸ªã€‚è€Œå¦‚æœæ˜¯ä¸‰ä¸ªæ•°æ®åº“ï¼Œå°±éœ€è¦ä¸‰ä¸ªå®ä¾‹ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢ä¸¤ç§æ–¹æ³•è¿›è¡Œå®ç°ã€‚ ä¸ºäº†æŒ‡å®šåˆ›å»ºå“ªç§ç¯å¢ƒï¼Œåªè¦å°†å®ƒä½œä¸ºå¯é€‰çš„å‚æ•°ä¼ é€’ç»™ SqlSessionFactoryBuilderå³å¯ã€‚ SqlSessionFactory factory = sqlSessionFactoryBuilder.build(reader, environment);SqlSessionFactory factory = sqlSessionFactoryBuilder.build(reader, environment,properties); æŠŠä¸Šé¢çš„ä»£ç æ‹¿ä¸‹æ¥çœ‹ä¸€ä¸‹ &lt;environments default=&quot;development&quot;&gt; &lt;environment id=&quot;development&quot;&gt; &lt;transactionManager type=&quot;JDBC&quot;&gt; &lt;property name=&quot;...&quot; value=&quot;...&quot;/&gt; &lt;/transactionManager&gt; &lt;dataSource type=&quot;POOLED&quot;&gt; &lt;property name=&quot;driver&quot; value=&quot;$&#123;driver&#125;&quot;/&gt; &lt;property name=&quot;url&quot; value=&quot;$&#123;url&#125;&quot;/&gt; &lt;property name=&quot;username&quot; value=&quot;$&#123;username&#125;&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;$&#123;password&#125;&quot;/&gt; &lt;/dataSource&gt; &lt;/environment&gt;&lt;/environments&gt; è¿™é‡Œå¯ä»¥çœ‹åˆ°æœ‰æœ‰å››ä¸ªå…³é”®çš„åœ°æ–¹ default&#x3D;â€developmentâ€ æŒ‡å®šé»˜è®¤çš„ç¯å¢ƒ id&#x3D;â€developmentâ€ æŒ‡å®šç¯å¢ƒçš„idï¼Œæä¾›ç»™ä¸Šé¢çš„æ–¹æ³•è¿›è¡Œæ„é€ SqlSessionFactoryä½¿ç”¨ transactionManager äº‹åŠ¡ç®¡ç†å™¨çš„é…ç½® dataSource æ•°æ®æºçš„é…ç½® ä¸‹é¢ä¸»è¦è®²ä¸€ä¸‹transactionManager å’Œ dataSource 7.1ã€äº‹åŠ¡ç®¡ç†å™¨ï¼ˆtransactionManagerï¼‰åœ¨ MyBatis ä¸­æœ‰ä¸¤ç§ç±»å‹çš„äº‹åŠ¡ç®¡ç†å™¨ï¼ˆä¹Ÿå°±æ˜¯ type&#x3D;â€[JDBC|MANAGED]â€ï¼‰ï¼š JDBC â€“ è¿™ä¸ªé…ç½®å°±æ˜¯ç›´æ¥ä½¿ç”¨äº† JDBC çš„æäº¤å’Œå›æ»šè®¾ç½®ï¼Œå®ƒä¾èµ–äºä»æ•°æ®æºå¾—åˆ°çš„è¿æ¥æ¥ç®¡ç†äº‹åŠ¡èŒƒå›´ã€‚ MANAGED â€“ è¿™ä¸ªé…ç½®å‡ ä¹æ²¡åšä»€ä¹ˆã€‚å®ƒä»æ¥ä¸æäº¤æˆ–å›æ»šä¸€ä¸ªè¿æ¥ï¼Œè€Œæ˜¯è®©å®¹å™¨æ¥ç®¡ç†äº‹åŠ¡çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸï¼ˆæ¯”å¦‚ JEE åº”ç”¨æœåŠ¡å™¨çš„ä¸Šä¸‹æ–‡ï¼‰ã€‚ é»˜è®¤æƒ…å†µä¸‹å®ƒä¼šå…³é—­è¿æ¥ï¼Œç„¶è€Œä¸€äº›å®¹å™¨å¹¶ä¸å¸Œæœ›è¿™æ ·ï¼Œå› æ­¤éœ€è¦å°† closeConnection å±æ€§è®¾ç½®ä¸º false æ¥é˜»æ­¢å®ƒé»˜è®¤çš„å…³é—­è¡Œä¸ºã€‚æ¯”å¦‚ä¸‹é¢: &lt;transactionManager type=&quot;MANAGED&quot;&gt; &lt;property name=&quot;closeConnection&quot; value=&quot;false&quot;/&gt;&lt;/transactionManager&gt; åæœŸä¸€èˆ¬ä¼šä½¿ç”¨Spring + MyBatisï¼Œåˆ™æ²¡æœ‰å¿…è¦é…ç½®äº‹åŠ¡ç®¡ç†å™¨ï¼Œ å› ä¸º Spring æ¨¡å—ä¼šä½¿ç”¨è‡ªå¸¦çš„ç®¡ç†å™¨æ¥è¦†ç›–å‰é¢çš„é…ç½®ã€‚ 7.2ã€æ•°æ®æºï¼ˆdataSourceï¼‰dataSourceå…ƒç´ ä½¿ç”¨æ ‡å‡†çš„JDBCæ•°æ®æºæ¥å£æ¥é…ç½®JDBCè¿æ¥å¯¹è±¡çš„èµ„æº,æœ‰ä¸‰ç§å†…å»ºçš„æ•°æ®æºç±»å‹ï¼ˆä¹Ÿå°±æ˜¯ type&#x3D;â€[UNPOOLED|POOLED|JNDI]â€ï¼‰ï¼šï¼ˆ1ï¼‰UNPOOLEDè¿™ä¸ªæ•°æ®æºçš„å®ç°åªæ˜¯æ¯æ¬¡è¢«è¯·æ±‚æ—¶æ‰“å¼€å’Œå…³é—­è¿æ¥ã€‚è™½ç„¶ä¸€ç‚¹æ…¢ï¼Œå®ƒå¯¹åœ¨åŠæ—¶å¯ç”¨è¿æ¥æ–¹é¢æ²¡æœ‰æ€§èƒ½è¦æ±‚çš„ç®€å•åº”ç”¨ç¨‹åºæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚ ä¸åŒçš„æ•°æ®åº“åœ¨è¿™æ–¹é¢è¡¨ç°ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥å¯¹æŸäº›æ•°æ®åº“æ¥è¯´ä½¿ç”¨è¿æ¥æ± å¹¶ä¸é‡è¦ï¼Œè¿™ä¸ªé…ç½®ä¹Ÿæ˜¯ç†æƒ³çš„ã€‚UNPOOLED ç±»å‹çš„æ•°æ®æºä»…ä»…éœ€è¦é…ç½®ä»¥ä¸‹ 5 ç§å±æ€§ï¼š driver â€“ è¿™æ˜¯ JDBC é©±åŠ¨çš„ Java ç±»çš„å®Œå…¨é™å®šåï¼ˆå¹¶ä¸æ˜¯JDBCé©±åŠ¨ä¸­å¯èƒ½åŒ…å«çš„æ•°æ®æºç±»ï¼‰ã€‚ url â€“ è¿™æ˜¯æ•°æ®åº“çš„ JDBC URL åœ°å€ã€‚ username â€“ ç™»å½•æ•°æ®åº“çš„ç”¨æˆ·åã€‚ password â€“ ç™»å½•æ•°æ®åº“çš„å¯†ç ã€‚ defaultTransactionIsolationLevel â€“ é»˜è®¤çš„è¿æ¥äº‹åŠ¡éš”ç¦»çº§åˆ«ã€‚ä½œä¸ºå¯é€‰é¡¹ï¼Œä½ ä¹Ÿå¯ä»¥ä¼ é€’å±æ€§ç»™æ•°æ®åº“é©±åŠ¨ã€‚è¦è¿™æ ·åšï¼Œå±æ€§çš„å‰ç¼€ä¸ºâ€driver.â€ï¼Œä¾‹å¦‚ï¼šdriver.encoding&#x3D;UTF8 ï¼ˆ2ï¼‰POOLEDè¿™ç§æ•°æ®æºçš„å®ç°åˆ©ç”¨â€æ± â€çš„æ¦‚å¿µå°† JDBC è¿æ¥å¯¹è±¡ç»„ç»‡èµ·æ¥ï¼Œé¿å…äº†åˆ›å»ºæ–°çš„è¿æ¥å®ä¾‹æ—¶æ‰€å¿…éœ€çš„åˆå§‹åŒ–å’Œè®¤è¯æ—¶é—´ã€‚ è¿™æ˜¯ä¸€ç§ä½¿å¾—å¹¶å‘ Web åº”ç”¨å¿«é€Ÿå“åº”è¯·æ±‚çš„æµè¡Œå¤„ç†æ–¹å¼ã€‚é™¤äº†ä¸Šè¿°æåˆ° UNPOOLED ä¸‹çš„å±æ€§å¤–ï¼Œä¼šæœ‰æ›´å¤šå±æ€§ç”¨æ¥é…ç½® POOLED çš„æ•°æ®æºï¼š poolMaximumActiveConnections â€“ åœ¨ä»»æ„æ—¶é—´å¯ä»¥å­˜åœ¨çš„æ´»åŠ¨ï¼ˆä¹Ÿå°±æ˜¯æ­£åœ¨ä½¿ç”¨ï¼‰è¿æ¥æ•°é‡ï¼Œé»˜è®¤å€¼ï¼š10 poolMaximumIdleConnections â€“ ä»»æ„æ—¶é—´å¯èƒ½å­˜åœ¨çš„ç©ºé—²è¿æ¥æ•°ã€‚ poolMaximumCheckoutTime â€“ åœ¨è¢«å¼ºåˆ¶è¿”å›ä¹‹å‰ï¼Œæ± ä¸­è¿æ¥è¢«æ£€å‡ºï¼ˆchecked outï¼‰æ—¶é—´ï¼Œé»˜è®¤å€¼ï¼š20000 æ¯«ç§’ï¼ˆå³ 20 ç§’ï¼‰ poolTimeToWait â€“ è¿™æ˜¯ä¸€ä¸ªåº•å±‚è®¾ç½®ï¼Œå¦‚æœè·å–è¿æ¥èŠ±è´¹çš„ç›¸å½“é•¿çš„æ—¶é—´ï¼Œå®ƒä¼šç»™è¿æ¥æ± æ‰“å°çŠ¶æ€æ—¥å¿—å¹¶é‡æ–°å°è¯•è·å–ä¸€ä¸ªè¿æ¥ï¼ˆé¿å…åœ¨è¯¯é…ç½®çš„æƒ…å†µä¸‹ä¸€ç›´å®‰é™çš„å¤±è´¥ï¼‰ï¼Œé»˜è®¤å€¼ï¼š20000 æ¯«ç§’ï¼ˆå³ 20 ç§’ï¼‰ã€‚ poolPingQuery â€“ å‘é€åˆ°æ•°æ®åº“çš„ä¾¦æµ‹æŸ¥è¯¢ï¼Œç”¨æ¥æ£€éªŒè¿æ¥æ˜¯å¦å¤„åœ¨æ­£å¸¸å·¥ä½œç§©åºä¸­å¹¶å‡†å¤‡æ¥å—è¯·æ±‚ã€‚é»˜è®¤æ˜¯â€NO PING QUERY SETâ€ï¼Œè¿™ä¼šå¯¼è‡´å¤šæ•°æ•°æ®åº“é©±åŠ¨å¤±è´¥æ—¶å¸¦æœ‰ä¸€ä¸ªæ°å½“çš„é”™è¯¯æ¶ˆæ¯ã€‚ poolPingEnabled â€“ æ˜¯å¦å¯ç”¨ä¾¦æµ‹æŸ¥è¯¢ã€‚è‹¥å¼€å¯ï¼Œä¹Ÿå¿…é¡»ä½¿ç”¨ä¸€ä¸ªå¯æ‰§è¡Œçš„ SQL è¯­å¥è®¾ç½® poolPingQuery å±æ€§ï¼ˆæœ€å¥½æ˜¯ä¸€ä¸ªéå¸¸å¿«çš„ SQLï¼‰ï¼Œé»˜è®¤å€¼ï¼šfalseã€‚ poolPingConnectionsNotUsedFor â€“ é…ç½® poolPingQuery çš„ä½¿ç”¨é¢‘åº¦ã€‚è¿™å¯ä»¥è¢«è®¾ç½®æˆåŒ¹é…å…·ä½“çš„æ•°æ®åº“è¿æ¥è¶…æ—¶æ—¶é—´ï¼Œæ¥é¿å…ä¸å¿…è¦çš„ä¾¦æµ‹ï¼Œé»˜è®¤å€¼ï¼š0ï¼ˆå³æ‰€æœ‰è¿æ¥æ¯ä¸€æ—¶åˆ»éƒ½è¢«ä¾¦æµ‹ â€” å½“ç„¶ä»…å½“ poolPingEnabled ä¸º true æ—¶é€‚ç”¨ï¼‰ã€‚ 8ã€æ•°æ®åº“å‚å•†æ ‡è¯†ï¼ˆdatabaseIdProviderï¼‰å¯ä»¥è®©Mybatisé€šè¿‡ä¸åŒçš„æ•°æ®åº“å‚å•†æ‰§è¡Œä¸åŒçš„è¯­å¥ï¼Œå…·ä½“é…ç½®æ–¹æ³•å¦‚ä¸‹1ã€åœ¨ä¸»é…ç½®æ–‡ä»¶ä¸­åŠ å…¥æ•°æ®åº“å‚å•†æ ‡è¯† 1234&lt;databaseIdProvider type=&quot;DB_VENDOR&quot;&gt; &lt;property name=&quot;Oracle&quot; value=&quot;oracle&quot;/&gt; &lt;property name=&quot;MySQL&quot; value=&quot;mysql&quot;/&gt;&lt;/databaseIdProvider&gt; åœ¨ä¸Šé¢çš„é…ç½®ä¸­æœ‰ä¸¤ä¸ªç‚¹æ¯”è¾ƒå…³é”®ï¼ˆ1ï¼‰databaseIdProvideræ ‡ç­¾çš„typeå±æ€§çš„DB_VENDOR,è¿™ä¸ªæ˜¯MyBatisä¸­é»˜è®¤çš„åˆ«åï¼Œå¯¹åº”org.apache.ibatis.mapping.VendorDatabaseIdProviderç±»,è¿™ä¸ªç±»å°†ä¼šä»æ•°æ®æºè·å–çš„è¿æ¥ä¸­è·å–æ•°æ®æºå¯¹åº”æ•°æ®åº“çš„äº§å“åï¼ˆconnection.getMetaData().getDatabaseProductName()ï¼‰è®¾ç½®æˆå¯¹åº”çš„databaseId,å½“ç„¶ä¹Ÿå¯ä»¥å®ç°org.apache.ibatis.mapping.DatabaseIdProviderç±»è¿›è¡Œé…ç½®ï¼ˆ2ï¼‰ä»ä¸Šé¢è·å–çš„databaseIdå¯èƒ½ä¼šå¾ˆé•¿ï¼Œåœ¨åæœŸçš„é…ç½®ä¸­å¯èƒ½ä¼šå¾ˆéº»çƒ¦äºæ˜¯å°±é€šè¿‡propertyè®¾ç½®å±æ€§åˆ«åæ¥ä½¿å…¶å˜çŸ­2ã€åœ¨Mapperæ˜ å°„æ–‡ä»¶ä¸­é…ç½®ä¸åŒçš„æ•°æ®æºå¯¹åº”çš„SQLè¯­å¥ 123456789&lt;select id=&quot;getTime&quot; resultType=&quot;string&quot; databaseId=&quot;mysql&quot;&gt; select now() from dual&lt;/select&gt;&lt;select id=&quot;getTime&quot; resultType=&quot;string&quot;&gt; select now() from dual&lt;/select&gt;&lt;select id=&quot;getTime&quot; resultType=&quot;string&quot; databaseId=&quot;oracle&quot;&gt; select &#x27;oralce&#x27;||to_char(sysdate,&#x27;yyyy-mm-dd hh24:mi:ss&#x27;) from dual&lt;/select&gt; æ¯”å¦‚åœ¨ä½¿ç”¨getTimeæ—¶ï¼Œåœ¨environmentsçš„dataSourceä¸­è·å–çš„æ•°æ®æºæ—¶Mysqlçš„æƒ…å†µä¸‹ï¼ŒMyBatisä¼šåŠ è½½databaseIdä¸ºmysqlçš„è¯­å¥ï¼ŒoracleåŒç†ï¼Œå¦‚æœæ²¡ç”¨è¿›è¡Œé…ç½®çš„æ—¶å€™ä¼šåŠ è½½æ²¡æœ‰é…ç½®databaseIdçš„è¯­å¥ã€‚databaseIdProviderã€databaseIdä»¥åŠenvironmentçš„ç»“åˆå¯ä»¥å®ç°å¤šæ•°æ®åº“å¤šå‚å•†çš„é…ç½®ã€‚ 9ã€æ˜ å°„å™¨ï¼ˆmappersï¼‰æŒ‰ç…§é¡ºåºé…ç½®å¥½å„é¡¹å‚æ•°åï¼ŒMyBatisçš„è¿è¡Œç¯å¢ƒç›¸å…³é…ç½®åŸºæœ¬å·²ç»å·®ä¸å¤šäº†ï¼Œç°åœ¨å°±éœ€è¦å‘Šè¯‰MyBatiså»å“ªè¾¹æ‰¾åˆ°SQLè¯­å¥ï¼Œè¿™ä¸ªæ—¶å€™Mapperså°±ç›¸å½“äºå¼•è·¯äººå¯ä»¥é€šè¿‡æä¾›ç›¸å¯¹äºç±»è·¯å¾„çš„èµ„æºå¼•ç”¨ï¼Œ æˆ–å®Œå…¨é™å®šèµ„æºå®šä½ç¬¦æˆ–ç±»åå’ŒåŒ…åç­‰å‘Šè¯‰MyBatiså»æ‰¾å„ä¸ªæ˜ å°„ç„¶åä»æ˜ å°„ä¸­å–å‡ºå¯¹åº”çš„SQLè¯­å¥ã€‚æ‰€ä»¥æœ‰ä¸‹é¢å››ç§å¸¸è§çš„æ–¹å¼æ¥é…ç½®mappersã€‚ 1ã€ä½¿ç”¨æ˜ å°„æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„è¿›è¡Œé…ç½®12345&lt;mappers&gt; &lt;mapper resource=&quot;org/mybatis/builder/AuthorMapper.xml&quot;/&gt; &lt;mapper resource=&quot;org/mybatis/builder/BlogMapper.xml&quot;/&gt; &lt;mapper resource=&quot;org/mybatis/builder/PostMapper.xml&quot;/&gt;&lt;/mappers&gt; 2ã€ä½¿ç”¨æ¥å£å…¨ç±»åçš„æ–¹å¼è¿›è¡Œé…ç½®12345&lt;mappers&gt; &lt;mapper class=&quot;org.mybatis.mappers.UserMapper&quot;/&gt; &lt;mapper class=&quot;org.mybatis.mappers.ProductMapper&quot;/&gt; &lt;mapper class=&quot;org.mybatis.mappers.ManagerMapper&quot;/&gt;&lt;/mappers&gt; 3ã€ä½¿ç”¨åŒ…åè¿›è¡Œé…ç½®123&lt;mappers&gt; &lt;package name=&quot;org.mybatis.mappers&quot;/&gt;&lt;/mappers&gt; 4ã€ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿç»å¯¹è·¯å¾„è¿›è¡Œé…ç½®12345&lt;mappers&gt; &lt;mapper url=&quot;file:///var/mappers/UserMapper.xml&quot;/&gt; &lt;mapper url=&quot;file:///var/mappers/ProductMapper.xml&quot;/&gt; &lt;mapper url=&quot;file:///var/mappers/ManagerMapper.xml&quot;/&gt;&lt;/mappers&gt; åœ¨æ—¥å¸¸ä½¿ç”¨ä¸­ç»å¸¸ä½¿ç”¨å‰3ç§æ–¹å¼è¿›è¡Œé…ç½®ï¼Œåœ¨é…ç½®ä¸­éœ€è¦æ³¨æ„åœ¨é…ç½®æ ‡ç­¾ä¸­å±æ€§çš„åç§°ï¼Œä¸»è¦åˆ†urlã€resourceã€classã€nameï¼š packageä¸­åªæœ‰ä¸€ä¸ªå±æ€§ï¼Œå°±æ˜¯åŒ…åname mapperä¸­ä½¿ç”¨urlåé¢è·Ÿçš„å°±æ˜¯å…¨åœ°å€ mapperä¸­ä½¿ç”¨resourceçš„å°±æ˜¯ç›¸å¯¹åœ°å€ mapperä¸­ä½¿ç”¨classçš„å°±æ˜¯å¯¹åº”çš„æ¥å£å…¨ç±»å åœ¨ä¸»é…ç½®æœ‰å¾ˆå¤šå±æ€§ä¿æŒé»˜è®¤å³å¯ï¼Œæœ‰ç‰¹æ®Šéœ€æ±‚æ—¶å†åšé…ç½®ï¼Œéœ€è¦é‡ç‚¹å…³æ³¨çš„æ˜¯settingå’Œenvironmentsï¼Œè¿™ä¸¤ä¸ªåœ¨Mybatisçš„ç”Ÿå‘½å‘¨æœŸä¸­æœ‰ç€å¾ˆé‡è¦çš„å½±å“ï¼Œå¦‚æœé…ç½®ä¸åˆç†å¯èƒ½ä¼šå½±å“æ•´ä¸ªæ¡†æ¶çš„è¿è¡Œï¼Œç»“æŸäº†æ¯ç‡¥çš„ä¸»é…ç½®æ–‡ä»¶ï¼Œä¸‹é¢å°±å¼€å§‹ä»‹ç»ä¸€ä¸‹SQLçš„è½½ä½“Mapperé…ç½®æ–‡ä»¶ã€‚ ä¸‰ã€MyBatisçš„Mapperæ˜ å°„æ–‡ä»¶ç›¸æ¯”äºä¸»é…ç½®æ–‡ä»¶ï¼ŒMapperæ–‡ä»¶æŠŠæ›´å¤šçš„æƒåŠ›äº¤ç»™äº†å¼€å‘è€…ï¼Œç”¨ç®€å•çš„åŠŸèƒ½å®ç°å¼ºå¤§çš„åŠŸèƒ½ï¼Œä»–çš„é¡¶å±‚ç»“æ„å¦‚ä¸‹ï¼š cache â€“ ç»™å®šå‘½åç©ºé—´çš„ç¼“å­˜é…ç½®ã€‚ cache-ref â€“ å…¶ä»–å‘½åç©ºé—´ç¼“å­˜é…ç½®çš„å¼•ç”¨ã€‚ resultMap â€“ æ˜¯æœ€å¤æ‚ä¹Ÿæ˜¯æœ€å¼ºå¤§çš„å…ƒç´ ï¼Œç”¨æ¥æè¿°å¦‚ä½•ä»æ•°æ®åº“ç»“æœé›†ä¸­æ¥åŠ è½½å¯¹è±¡ã€‚ sql â€“ å¯è¢«å…¶ä»–è¯­å¥å¼•ç”¨çš„å¯é‡ç”¨è¯­å¥å—ã€‚ insert â€“ æ˜ å°„æ’å…¥è¯­å¥ update â€“ æ˜ å°„æ›´æ–°è¯­å¥ delete â€“ æ˜ å°„åˆ é™¤è¯­å¥ select â€“ æ˜ å°„æŸ¥è¯¢è¯­å¥åœ¨ä¸Šé¢åªæ˜¯å†™äº†ä¸€ä¸ªå¾ˆç®€å•çš„UserMapper.xmlï¼Œåœ¨å®é™…ä¸Šä½¿ç”¨ä¸­ï¼Œä¸€ä¸ªMapperæ–‡ä»¶å¤§è‡´é•¿è¿™ä¸ªæ ·å­UserMapper.xml123456789101112131415161718192021222324252627282930313233343536373839&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&lt;mapper namespace=&quot;User&quot;&gt; &lt;!-- ç”¨æˆ·ä¿¡æ¯ResultMap --&gt; &lt;resultMap id=&quot;userResultMap&quot; type=&quot;com.alex.pojo.User&quot;&gt; &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt; &lt;result column=&quot;username&quot; property=&quot;username&quot;/&gt; &lt;result column=&quot;password&quot; property=&quot;password&quot;/&gt; &lt;result column=&quot;birthday&quot; property=&quot;birthday&quot;/&gt; &lt;/resultMap&gt; &lt;select id=&quot;findAll&quot; resultType=&quot;com.alex.pojo.User&quot;&gt; select * from user &lt;/select&gt; &lt;!-- æ ¹æ®ç”¨æˆ·ç¼–å·ï¼ŒæŸ¥è¯¢å•ä¸ªç”¨æˆ·å®ä½“ --&gt; &lt;select id=&quot;findUserById&quot; parameterType=&quot;int&quot; resultMap=&quot;userResultMap&quot;&gt; SELECT * FROM user WHERE id = #&#123;id&#125; &lt;/select&gt; &lt;!-- æ–°å¢ç”¨æˆ· --&gt; &lt;insert id=&quot;insertUser&quot; parameterType=&quot;com.alex.pojo.User&quot;&gt; INSERT INTO user(username,password,birthday) VALUES(#&#123;username&#125;,#&#123;password&#125;,#&#123;birthday&#125;); &lt;/insert&gt; &lt;!-- ä¿®æ”¹ç”¨æˆ· --&gt; &lt;update id=&quot;updateUser&quot; parameterType=&quot;com.alex.pojo.User&quot;&gt; UPDATE user SET username = #&#123;username&#125; ,password=#&#123;password&#125; ,birthday=#&#123;birthday&#125; WHERE id = #&#123;id&#125; &lt;/update&gt; &lt;!-- åˆ é™¤ç”¨æˆ· --&gt; &lt;delete id=&quot;deleteUser&quot; parameterType=&quot;java.lang.Integer&quot;&gt; DELETE FROM user WHERE id = #&#123;id&#125; &lt;/delete&gt;&lt;/mapper&gt; 1ã€insertã€deleteã€updateåŠselectæ ‡ç­¾çš„å±æ€§ä¸Šé¢ä»£ç ä¸­ä»‹ç»äº†æ•´ä¸ªå¯¹ç”¨æˆ·çš„å¢åˆ æ”¹æŸ¥ï¼Œåˆ†åˆ«ä½¿ç”¨insertã€deleteã€updateåŠselectæ ‡ç­¾ï¼Œä¸‹é¢å°±å…ˆæ¥çœ‹ä¸€ä¸‹æ ‡ç­¾ä¸­çš„å±æ€§ï¼š 123456789101112131415161718192021222324252627282930313233343536 &lt;select id=&quot;selectPerson&quot; parameterType=&quot;int&quot; parameterMap=&quot;deprecated&quot; resultType=&quot;hashmap&quot; resultMap=&quot;personResultMap&quot; flushCache=&quot;false&quot; useCache=&quot;true&quot; timeout=&quot;10&quot; fetchSize=&quot;256&quot; statementType=&quot;PREPARED&quot; resultSetType=&quot;FORWARD_ONLY&quot;&gt;&lt;insert id=&quot;insertAuthor&quot; parameterType=&quot;domain.blog.Author&quot; flushCache=&quot;true&quot; statementType=&quot;PREPARED&quot; keyProperty=&quot;&quot; keyColumn=&quot;&quot; useGeneratedKeys=&quot;&quot; timeout=&quot;20&quot;&gt;&lt;update id=&quot;updateAuthor&quot; parameterType=&quot;domain.blog.Author&quot; flushCache=&quot;true&quot; statementType=&quot;PREPARED&quot; timeout=&quot;20&quot;&gt;&lt;delete id=&quot;deleteAuthor&quot; parameterType=&quot;domain.blog.Author&quot; flushCache=&quot;true&quot; statementType=&quot;PREPARED&quot; timeout=&quot;20&quot;&gt; å±æ€§å å¯¹åº”å«ä¹‰ id SQLæ˜ å°„é…ç½®çš„å”¯ä¸€æ ‡è¯†ï¼Œå¯ä»¥ä»£è¡¨SQLé…ç½®ã€‚ parameterType å¯é€‰å±æ€§ï¼Œç”¨æ¥ä¼ å…¥SQLé…ç½®ä¸­éœ€è¦çš„å‚æ•°ç±»å‹çš„ç±»åæˆ–åˆ«åã€‚ resultType ä»è¿™æ¡è¯­å¥ä¸­è¿”å›çš„æœŸæœ›ç±»å‹çš„ç±»çš„å®Œå…¨é™å®šåæˆ–åˆ«åã€‚ æ³¨æ„å¦‚æœè¿”å›çš„æ˜¯é›†åˆï¼Œé‚£åº”è¯¥è®¾ç½®ä¸ºé›†åˆåŒ…å«çš„ç±»å‹ï¼Œè€Œä¸æ˜¯é›†åˆæœ¬èº«ã€‚å¯ä»¥ä½¿ç”¨ resultType æˆ– resultMapï¼Œä½†ä¸èƒ½åŒæ—¶ä½¿ç”¨ã€‚ resultMap å¤–éƒ¨ resultMap çš„å‘½åå¼•ç”¨ã€‚ç»“æœé›†çš„æ˜ å°„æ˜¯ MyBatis æœ€å¼ºå¤§çš„ç‰¹æ€§ï¼Œå¦‚æœä½ å¯¹å…¶ç†è§£é€å½»ï¼Œè®¸å¤šå¤æ‚æ˜ å°„çš„æƒ…å½¢éƒ½èƒ½è¿åˆƒè€Œè§£ã€‚å¯ä»¥ä½¿ç”¨ resultMap æˆ– resultTypeï¼Œä½†ä¸èƒ½åŒæ—¶ä½¿ç”¨ã€‚ flushCache è®¾ç½®è¯­å¥è°ƒç”¨æ—¶ï¼Œæ˜¯å¦æ¸…ç©ºæœ¬åœ°ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜ï¼Œé»˜è®¤ä¸ºfalseã€‚ useCache è®¾ç½®è¯­å¥è°ƒç”¨æ—¶ï¼Œæ‰§è¡Œç»“æœæ˜¯å¦ä¿å­˜äºŒçº§ç¼“å­˜ï¼Œå¯¹selectå…ƒç´ é»˜è®¤ä¸ºfalseã€‚ timeout è¿™ä¸ªè®¾ç½®æ˜¯åœ¨æŠ›å‡ºå¼‚å¸¸ä¹‹å‰ï¼Œé©±åŠ¨ç¨‹åºç­‰å¾…æ•°æ®åº“è¿”å›è¯·æ±‚ç»“æœçš„ç§’æ•°ã€‚ fetchSize è®¾ç½®é©±åŠ¨ç¨‹åºæ¯æ¬¡æ‰¹é‡è¿”å›ç»“æœçš„è¡Œæ•°ã€‚ statementType è®¾ç½®MyBatisçš„statementç±»å‹ã€‚å¯ä»¥é…ç½®ä¸ºSTATEMENTï¼ŒPREPARED æˆ– CALLABLE ä¸­çš„ä¸€ä¸ªï¼Œè¡¨ç¤ºä½¿ç”¨Statementï¼ŒPreparedStatement æˆ– CallableStatementï¼Œé»˜è®¤å€¼ï¼šPREPAREDã€‚ resultSetType è®¾ç½®MyBatisçš„ç»“æœé›†ç±»å‹ã€‚å¯ä»¥é…ç½®ä¸ºFORWARD_ONLYï¼ŒSCROLL_SENSITIVE, SCROLL_INSENSITIVE æˆ– DEFAULTï¼ˆç­‰ä»·äº unsetï¼‰ ä¸­çš„ä¸€ä¸ªï¼Œé»˜è®¤å€¼ä¸º unset ï¼ˆä¾èµ–é©±åŠ¨ï¼‰ã€‚ databaseId åœ¨é…ç½®databaseIdProviderï¼ˆæ•°æ®åº“å‚å•†æ ‡è¯†ï¼‰çš„æƒ…å†µä¸‹ï¼ŒMyBatisä¼šåŠ è½½æ‰€æœ‰ä¸å¸¦databaseIdæˆ–è€…åŒ¹é…å½“å‰databaseIdçš„è¯­å¥ã€‚ resultOrdered è¿™ä¸ªè®¾ç½®ä»…é’ˆå¯¹åµŒå¥—ç»“æœ select è¯­å¥é€‚ç”¨ï¼šå¦‚æœä¸º trueï¼Œå°±æ˜¯å‡è®¾åŒ…å«äº†åµŒå¥—ç»“æœé›†æˆ–æ˜¯åˆ†ç»„ï¼Œè¿™æ ·çš„è¯å½“è¿”å›ä¸€ä¸ªä¸»ç»“æœè¡Œçš„æ—¶å€™ï¼Œå°±ä¸ä¼šå‘ç”Ÿæœ‰å¯¹å‰é¢ç»“æœé›†çš„å¼•ç”¨çš„æƒ…å†µã€‚ è¿™å°±ä½¿å¾—åœ¨è·å–åµŒå¥—çš„ç»“æœé›†çš„æ—¶å€™ä¸è‡³äºå¯¼è‡´å†…å­˜ä¸å¤Ÿç”¨ã€‚é»˜è®¤å€¼ï¼šfalseã€‚ resultSets å½“æœ‰å¤šä¸ªç»“æœé›†çš„æ—¶å€™ä½¿ç”¨ï¼Œä¼šä¸ºSQLæ‰§è¡Œåè¿”å›çš„æ¯ä¸ªç»“æœé›†è®¾å®šä¸€ä¸ªåç§°ï¼Œä»¥é€—å·åˆ†éš”ã€‚ useGeneratedKeys ï¼ˆä»…å¯¹ insert å’Œ update æœ‰ç”¨ï¼‰è¿™ä¼šä»¤ MyBatis ä½¿ç”¨ JDBC çš„ getGeneratedKeys æ–¹æ³•æ¥å–å‡ºç”±æ•°æ®åº“å†…éƒ¨ç”Ÿæˆçš„ä¸»é”®ï¼ˆæ¯”å¦‚ï¼šåƒ MySQL å’Œ SQL Server è¿™æ ·çš„å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„è‡ªåŠ¨é€’å¢å­—æ®µï¼‰ï¼Œé»˜è®¤å€¼ï¼šfalseã€‚ keyProperty ï¼ˆä»…å¯¹ insert å’Œ update æœ‰ç”¨ï¼‰å”¯ä¸€æ ‡è®°ä¸€ä¸ªå±æ€§ï¼ŒMyBatis ä¼šé€šè¿‡ getGeneratedKeys çš„è¿”å›å€¼æˆ–è€…é€šè¿‡ insert è¯­å¥çš„ selectKey å­å…ƒç´ è®¾ç½®å®ƒçš„é”®å€¼ï¼Œé»˜è®¤å€¼ï¼šæœªè®¾ç½®ï¼ˆunsetï¼‰ã€‚å¦‚æœå¸Œæœ›å¾—åˆ°å¤šä¸ªç”Ÿæˆçš„åˆ—ï¼Œä¹Ÿå¯ä»¥æ˜¯é€—å·åˆ†éš”çš„å±æ€§åç§°åˆ—è¡¨ã€‚ keyColumn ï¼ˆä»…å¯¹ insert å’Œ update æœ‰ç”¨ï¼‰é€šè¿‡ç”Ÿæˆçš„é”®å€¼è®¾ç½®è¡¨ä¸­çš„åˆ—åï¼Œè¿™ä¸ªè®¾ç½®ä»…åœ¨æŸäº›æ•°æ®åº“ï¼ˆåƒ PostgreSQLï¼‰æ˜¯å¿…é¡»çš„ï¼Œå½“ä¸»é”®åˆ—ä¸æ˜¯è¡¨ä¸­çš„ç¬¬ä¸€åˆ—çš„æ—¶å€™éœ€è¦è®¾ç½®ã€‚å¦‚æœå¸Œæœ›ä½¿ç”¨å¤šä¸ªç”Ÿæˆçš„åˆ—ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸ºé€—å·åˆ†éš”çš„å±æ€§åç§°åˆ—è¡¨ã€‚ è¯¥è¡¨æ•´ç†è‡ªMyBatisçš„å®˜ç½‘ï¼Œå…¶ä¸­å¾ˆå¤šçš„è¯æ±‡å¾ˆç”Ÿç–å¾ˆéš¾æ‡‚ï¼Œåœ¨å¤§éƒ¨åˆ†æ—¥å¸¸ä¸­ä¿æŒé»˜è®¤å€¼å³å¯ï¼Œåœ¨ç‰¹æ®Šçš„æ—¶å€™éœ€è¦å»äº†è§£æ›´å¤šå…³äºJDBCç›¸å…³çš„çŸ¥è¯†ï¼Œæœ¬æ–‡æš‚æ—¶ä¸åšè®ºè¿°ï¼Œä¸‹é¢å°±æ˜¯éœ€è¦ä»‹ç»ä¸€ä¸‹åœ¨åŸºç¡€å¢åˆ æ”¹æŸ¥ä¸­å‡ºç°çš„æœ€é‡è¦çš„ä¸¤ä¸ªåœ°æ–¹â€”â€”â€”â€”Mapperé…ç½®è¾“å…¥æ˜ å°„å’ŒMapperé…ç½®è¾“å‡ºæ˜ å°„ã€‚ 2ã€Mapperé…ç½®è¾“å…¥æ˜ å°„åœ¨å¢åˆ æ”¹æŸ¥ä¸­ï¼Œå¾€å¾€å°‘ä¸äº†å‚æ•°çš„ä¼ é€’æœ‰è®¸å¤šSQLé…ç½®æ˜¯éœ€è¦ä¼ é€’å‚æ•°çš„ã€‚åœ¨MyBatisçš„SQLæ˜ å°„é…ç½®æ–‡ä»¶Mapper.xmlä¸­ï¼Œè¾“å…¥å‚æ•°å±æ€§é…ç½®åœ¨parameterTypeä¸­ã€‚å¯¹äºparameterTypeå±æ€§ï¼Œå¯ä»¥é…ç½®çš„åŸºæœ¬æ•°æ®ç±»å‹æœ‰ï¼šintã€doubleã€floatã€shortã€longã€byteã€charã€booleanï¼ŒåŸºæœ¬æ•°æ®åŒ…è£…ç±»æœ‰ï¼šByteã€Shortã€Integerã€Longã€Floatã€Doubleã€Booleanã€Characterï¼Œè¿˜æœ‰Javaå¤æ‚æ•°æ®ç±»å‹JavaBeanï¼ˆStringï¼‰æˆ–å…¶ä»–è‡ªå®šä¹‰çš„å®ä½“ç±»ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é…ä¸ºç±»å¯¹åº”ç±»å‹åˆ«åã€‚ 3ã€Mapperé…ç½®è¾“å‡ºæ˜ å°„åœ¨MyBatisçš„Mapperæ˜ å°„æ–‡ä»¶ä¸­ï¼ŒSQLè¯­å¥æŸ¥è¯¢åè¿”å›çš„ç»“æœï¼Œä¼šæ˜ å°„åˆ°é…ç½®æ ‡ç­¾çš„è¾“å‡ºæ˜ å°„å±æ€§å¯¹åº”çš„Javaç±»å‹ã€‚Mapperçš„è¾“å‡ºæ˜ å°„æœ‰ä¸¤ç§é…ç½®ï¼Œåˆ†åˆ«æ˜¯resultTypeå’ŒresultMapã€‚ 3.1ã€resultTyperesultTypeé™¤äº†åƒparameterä¸€æ ·æ”¯æŒåŸºæœ¬æ•°æ®ç±»å‹ã€åŸºæœ¬æ•°æ®åŒ…è£…ç±»ä¹‹å¤–ï¼Œä¹Ÿæ”¯æŒè‡ªå®šä¹‰å®ä½“ç±»ã€‚ å¦‚æœä»æ•°æ®åº“æŸ¥è¯¢å‡ºæ¥çš„åˆ—åä¸å®ä½“ç±»ä¸­çš„å±æ€§åå…¨éƒ½ä¸ä¸€è‡´ï¼Œåˆ™ä¸ä¼šåˆ›å»ºå®ä½“ç±»å¯¹è±¡ï¼Œå¦‚æœæ•°æ®åº“æŸ¥è¯¢å‡ºæ¥çš„åˆ—åä¸å®ä½“ç±»çš„å±æ€§åè‡³å°‘æœ‰ä¸€ä¸ªä¸€è‡´ï¼Œé‚£ä¹ˆå°±ä¼šåˆ›å»ºå®ä½“ç±»å¯¹è±¡ã€‚ 3.2ã€resultMapå¦‚æœæˆ‘ä»¬SQLæŸ¥è¯¢å‡ºçš„å†…å®¹å’Œåˆ›å»ºçš„å®ä½“ç±»æ²¡æœ‰ä¸€ä¸ªå­—æ®µæ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯åˆæƒ³æŠŠæ•°æ®å¡«å……åˆ°å¯¹åº”çš„å­—æ®µä¸­ï¼Œè¿™ä¸ªæ—¶å€™MyBatisæä¾›äº†ä¸€ç§SQLç»“æœé›†è¾“å‡ºæ˜ å°„ç±»å‹â€”â€”â€”â€”resultMapï¼Œå¯ä»¥é€šè¿‡å®šä¹‰ä¸€ä¸ªresultMapåœ¨åˆ—åå’ŒJavaåŒ…è£…ç±»å±æ€§åä¹‹é—´åˆ›å»ºæ˜ å°„å…³ç³»ã€‚ 1234567891011&lt;!--å®šä¹‰ä¸€ä¸ªresultMap--&gt;&lt;resultMap id=&quot;userResultMap&quot; type=&quot;com.alex.pojo.User&quot;&gt; &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt; &lt;result column=&quot;username&quot; property=&quot;username&quot;/&gt; &lt;result column=&quot;password&quot; property=&quot;password&quot;/&gt; &lt;result column=&quot;birthday&quot; property=&quot;birthday&quot;/&gt;&lt;/resultMap&gt;&lt;!-- ä½¿ç”¨resultMapè°ƒç”¨idä¸ºuserResultMapè¿›è¡Œå°è£…--&gt;&lt;select id=&quot;findUserById&quot; parameterType=&quot;int&quot; resultMap=&quot;userResultMap&quot;&gt; SELECT * FROM user WHERE id = #&#123;id&#125;&lt;/select&gt; ä½¿ç”¨idä¸ºâ€œuserResultMapâ€çš„resultMapé…ç½®å°†selectæŸ¥è¯¢è¯­å¥å’ŒUserç±»ä¸­çš„å±æ€§è¿›è¡Œæ˜ å°„ã€‚idå±æ€§æ˜¯resultMapçš„å”¯ä¸€æ ‡è¯†ï¼Œè€Œtypeæ˜¯æœ€ç»ˆæ‰€æ˜ å°„çš„Javaå¯¹è±¡ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨åˆ«åã€‚åœ¨resultMapæ ‡ç­¾å¯¹ä¸­ï¼Œidæ ‡ç­¾æŒ‡çš„æ˜¯æŸ¥è¯¢ç»“æœé›†ä¸­çš„å”¯ä¸€æ ‡è¯†ï¼ˆæ¯”å¦‚Userçš„å”¯ä¸€æ ‡è¯†å°±æ˜¯idï¼‰ï¼Œresultæ ‡ç­¾æŒ‡çš„æ˜¯æ™®é€šåˆ—çš„å®šä¹‰ï¼ˆUserç±»ä¸­çš„å…¶ä»–éä¸»é”®å±æ€§ï¼‰ï¼Œå…¶columnæŒ‡çš„æ˜¯SQLè¯­å¥æŸ¥è¯¢å‡ºçš„åˆ—åï¼Œç„¶åå¯¹åº”çš„propertyæ˜¯typeæ‰€æŒ‡å®šçš„Javaå®ä½“ç±»ä¸­çš„å±æ€§åï¼Œæœ€ç»ˆresultMapä¼šå¯¹columnå’Œpropertyè¿›è¡Œæ˜ å°„ï¼ˆå¯¹åº”å…³ç³»ï¼‰ï¼Œè¿™æ ·æœ€ç»ˆå°±ä¼šæ‹¿åˆ°ä¸€ä¸ªå¡«å……äº†æŸ¥è¯¢ç»“æœçš„Userç±»ã€‚ å¦‚æœresultMapåœ¨å…¶ä»–çš„Mapperé…ç½®æ–‡ä»¶ä¸­ï¼Œåˆ™éœ€è¦åœ¨idå‰é¢åŠ ä¸Šé‚£ä¸ªMapperé…ç½®æ–‡ä»¶çš„namespaceå³å¯ã€‚ å››ã€æœ€ç»ˆçš„CRUDä¸Šé¢å¯¹MyBatisè¿›è¡Œçš„åŸºæœ¬çš„é…ç½®ï¼Œç®€å•é…ç½®ä¹‹åå°±å¯ä»¥è®©MyBatisè·‘èµ·æ¥äº†ï¼Œå¯¹äºJAVAç¨‹åºè€Œè¨€ä¸»è¦æ˜¯åˆ†ä¸ºå››éƒ¨1ã€è·å–ä¸»é…ç½®æ–‡ä»¶çš„IOæµ2ã€é€šè¿‡é…ç½®æ–‡ä»¶è·å–å¯¹åº”SqlSessionFactory3ã€é€šè¿‡SqlSessionFactoryè·å–ä¸€ä¸ªSqlSession4ã€é€šè¿‡SqlSessionè¿›è¡ŒCRUD å¯¹åˆä½“éªŒçš„ä»£ç è¿›è¡Œæ”¹è¿›ï¼ŒåŠ ä¸Šå¢åˆ æ”¹çš„æ–¹æ³•123456789101112131415161718192021222324252627282930313233343536373839public static void main(String[] args) throws IOException &#123; String resource = &quot;mybatis-config.xml&quot;; //1ã€è·å–ä¸»é…ç½®æ–‡ä»¶çš„IOæµ InputStream inputStream = Resources.getResourceAsStream(resource); //2ã€é€šè¿‡é…ç½®æ–‡ä»¶è·å–å¯¹åº”SqlSessionFactory SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream); //3ã€é€šè¿‡SqlSessionFactoryè·å–ä¸€ä¸ªSqlSession SqlSession sqlSession = sqlSessionFactory.openSession(); List&lt;User&gt; list = sqlSession.selectList(&quot;User.findAll&quot;); for (User user : list) &#123; System.out.println(user); &#125; System.out.println(&quot;---------------------&quot;); User oneUser = sqlSession.selectOne(&quot;User.findUserById&quot;, 1); System.out.println(oneUser); System.out.println(&quot;---------------------&quot;); User userInfo = new User(); userInfo.setUsername(&quot;lalala&quot;); userInfo.setPassword(&quot;123456&quot;); userInfo.setBirthday(&quot;2022-05-01&quot;); sqlSession.insert(&quot;User.insertUser&quot;,userInfo); list = sqlSession.selectList(&quot;User.findAll&quot;); for (User user : list) &#123; System.out.println(user); &#125; System.out.println(&quot;---------------------&quot;); oneUser.setUsername(&quot;657657&quot;); sqlSession.update(&quot;User.updateUser&quot;,oneUser); list = sqlSession.selectList(&quot;User.findAll&quot;); for (User user : list) &#123; System.out.println(user); &#125; System.out.println(&quot;---------------------&quot;); sqlSession.delete(&quot;User.deleteUser&quot;,2); list = sqlSession.selectList(&quot;User.findAll&quot;); for (User user : list) &#123; System.out.println(user); &#125;&#125; è¿™é‡Œä¸€å®šè¦æ³¨æ„ï¼Œå› ä¸ºæ˜¯Demoçš„ä»£ç æˆ‘å†™åœ¨mainå‡½æ•°ä¸­ï¼Œè¿™è¾¹æ²¡æœ‰å¯¹æ•°æ®è¿›è¡Œæäº¤çš„å›æ»šä»¥åŠå¯¹sqlSessionèµ„æºçš„é‡Šæ”¾ï¼Œå¦‚æœçœŸå®ä½¿ç”¨è¯·ä½¿ç”¨try catchåŒ…è£¹å¯¹äº‹åŠ¡è¿›è¡Œæäº¤ä»¥åŠèµ„æºé‡Šæ”¾ è¿è¡Œç»“æœ é€šè¿‡ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºsqlSessionå¯¹äºCRUDä¸»è¦æä¾›äº†äº”ä¸ªæ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°éƒ½ä¸ºstatementId(Mapperæ–‡ä»¶çš„namespace+å¯¹åº”æ˜ å°„è¯­å¥çš„id)ï¼Œåé¢çš„è·Ÿå¯¹åº”çš„å‚æ•°ï¼Œè¿™æ ·å¥½åƒç›¸å¯¹äºJDBCæ¥è¯´åªæ˜¯ä¸ç”¨æˆ‘ä»¬å»å†™ç»“æœé›†å’Œå®ä½“ç±»çš„æ˜ å°„ï¼Œä½†æ˜¯ä¸ä¹‹å¸¦æ¥çš„æ˜¯æ›´å¤šçš„é…ç½®ï¼Œå…¶å®ä¸ç„¶ï¼Œæœ¬æ–‡ä¸­ç›®å‰ä»…ä»…åªæ˜¯ä»‹ç»äº†MyBatisæœ€åŸºæœ¬çš„ä½¿ç”¨ï¼Œé€šè¿‡ä¸Šé¢çš„ä»£ç è¿›è¡Œç®€å•çš„é…ç½®ï¼Œå·²ç»å¯ä»¥è¿›è¡Œæ•°æ®åº“çš„è®¿é—®ï¼ŒMyBatisé™¤äº†åŸºç¡€çš„æ•°æ®åº“è®¿é—®å’Œç»“æœé›†æ˜ å°„è¿˜æœ‰å¾ˆå¤šé«˜çº§ç”¨æ³•ï¼Œå…·ä½“åˆæœ‰å“ªäº›é«˜é˜¶ç”¨æ³•è¯·çœ‹XXXXXXã€‚","categories":[{"name":"åˆ†ç±»6","slug":"åˆ†ç±»6","permalink":"https://it65720.top/categories/%E5%88%86%E7%B1%BB6/"}],"tags":[{"name":"æµ‹è¯•11","slug":"æµ‹è¯•11","permalink":"https://it65720.top/tags/%E6%B5%8B%E8%AF%9511/"},{"name":"æµ‹è¯•10","slug":"æµ‹è¯•10","permalink":"https://it65720.top/tags/%E6%B5%8B%E8%AF%9510/"}]}],"categories":[{"name":"åˆ†ç±»6","slug":"åˆ†ç±»6","permalink":"https://it65720.top/categories/%E5%88%86%E7%B1%BB6/"}],"tags":[{"name":"æµ‹è¯•11","slug":"æµ‹è¯•11","permalink":"https://it65720.top/tags/%E6%B5%8B%E8%AF%9511/"},{"name":"æµ‹è¯•10","slug":"æµ‹è¯•10","permalink":"https://it65720.top/tags/%E6%B5%8B%E8%AF%9510/"}]}